{"version":3,"sources":["components/Icon/Icon.jsx","components/Button/Button.jsx","assets/person/happy.png","views/Login/Login.jsx","contexts/metadata.context.js","contexts/receiver.context.js","contexts/apiToken.context.js","components/Card/Card.jsx","components/Label/Label.jsx","components/Input/Input.jsx","components/Filter/Filter.jsx","components/Modal/Modal.jsx","components/Stepper/Stepper.jsx","components/Badge/Badge.jsx","components/Map/Map.jsx","assets/book_small.jpg","components/Offer/Offer.jsx","services/api.servise.js","assets/person/searching.png","assets/person/sad.png","views/Home/Home.jsx","components/Select/Select.jsx","assets/person/smilling.png","views/Onboarding/Onboarding.jsx","components/BookCard/BookCard.jsx","components/ReservationCard/ReservationCard.jsx","components/User/User.jsx","components/OfferCard/OfferCard.jsx","assets/person/calm.png","views/Library/Library.jsx","assets/person/unhappy.png","views/Messages/Messages.jsx","components/CreateMessage/CreateMessage.jsx","components/Message/Message.jsx","views/Chat/Chat.jsx","assets/Flag.svg","views/Settings/Settings.jsx","components/RequireAuth/RequireAuth.jsx","components/NavSlot/NavSlot.jsx","components/Navigation/Navigation.jsx","App.js","reportWebVitals.js","index.js","utils/utils.js"],"names":["Icon","className","children","size","props","style","fontSize","defaultProps","Button","icon","reverse","variant","disabled","onClick","loading","handleClick","undefined","Login","useAuth0","loginWithRedirect","isAuthenticated","getAccessTokenSilently","isLoading","navigate","useNavigate","useEffect","then","src","person","alt","MetadataContext","React","createContext","metadataReducer","state","action","type","payload","Error","MetadataProvider","useReducer","value","metadataState","metadataDispatch","Provider","useMetadata","context","useContext","ReceiverContext","receiverReducer","ReceiverProvider","receiverState","receiverDispatch","useReceiver","ApiTokenContext","apiTokenContext","ApiTokenProvider","apiTokenState","apiTokenDispatch","useApiToken","Card","paddingoff","clean","Label","htmlFor","uppercase","join","Input","label","placeholder","error","onChange","id","e","target","Filter","onFilter","initFilters","useState","open","setOpen","filters","setFilters","filterErrors","setFilterErrors","filtersInitialized","setFiltersInitialized","handleNewFilter","filter","currentFilters","Object","assign","key","keys","newFilter","length","v","zip","toLowerCase","city","isbnError","isbn","isValideIsbnOrIsbn13","zipError","isValidZip","currentErrors","Modal","Stepper","unit","min","max","initValue","setValue","showUnit","currentValue","Badge","fullwidth","mapboxgl","accessToken","process","Map","center","marker","mapContainerRef","useRef","defaultCenter","lng","setLng","lat","setLat","map","container","current","zoom","boxZoom","scrollZoom","el","document","createElement","Marker","setLngLat","addTo","on","getCenter","toFixed","remove","ref","Offer","offer","onReserveUntil","onUnreserve","onContactProvider","reserved","showOfferDetails","setShowOfferDetails","showReservationModal","setShowReservationModal","daysToReserve","setDaysToReserve","isReserving","setIsReserving","isUnreserving","setIsUnreserving","toggleOfferDetails","lastState","toggleReservationModal","days","until","addDaysToToday","_id","book","title","authors","role","backgroundImage","image","FallBackCover","coordinates","provider","picture","nickname","date","newDate","Date","day","getDate","month","getMonth","year","getFullYear","formatDateString","createdAt","instance","axios","create","timeout","createAuthenticationHeader","token","TypeError","Authorization","user","getMetadata","a","authHeader","get","headers","metadata","data","setMetadata","Array","isArray","patch","updatedMetadata","setUser","updatedUser","sendPasswordChangeMail","post","changePasswordMailSent","deleteAccount","delete","isDeleted","offers","getOffersWithFilter","filteredOffers","getMyOffers","myOffers","reserveOffer","options","unreserveOffer","offerId","unreserved","wasPickedup","reservations","getMyReservations","books","checkIsbn","isbnFilter","isbn13","status","chats","getMyChats","getById","chatId","chat","getByReceiverUserSub","receiverSub","getMessages","messages","getMessagesAfterMessageId","messageId","getLastMessage","message","receiver","sub","content","createdMessage","Home","initFilterValue","setInitFilterValue","setOffers","lastOfferId","setLastOfferId","setFilter","isLoadingMoreOffers","setIsLoadingMoreOffers","hideMore","setHideMore","pageYOffset","setPageYOffset","reserveOfferDetails","setReserveOfferDetails","offersRequest","useMutation","offersApi","reserveOfferRequest","unreserveOfferRequest","handleContactProvider","handleReserveOffer","details","reserveOptions","mutate","handleUnreserveOffer","initMetadataFilter","isSuccess","newOffers","lastOffers","window","scrollTo","updatedOfferInOffers","isSearchingPerson","isSadPerson","yOffset","newFilterWithLastOfferID","lastFetchedOfferId","Select","items","preselected","initialySelected","selected","setSelected","item","index","selectItem","transition","Onboarding","logout","setNickname","nicknameError","setNicknameError","setCity","cityError","setCityError","setZip","setZipError","userWouldRentBooks","setUserWouldRentBooks","selectItems","onboardingFinished","setOnboardingFinished","postMetadataData","setPostMetadataData","postMetadata","setPostMetadata","postNickname","setPostNickname","useQuery","userApi","enabled","postMetadataIsLoading","postMetadataResponse","postNicknameIsLoading","postNicknameResponse","isValidNickname","isValidCity","rental","isOnboarded","returnTo","location","origin","BookCard","imageUrl","ReservationCard","reservation","onPickedUp","today","timeDifferenceBetweenTodayAndUntil","getTime","daysLeftOfReservation","Math","round","showDetails","setShowDetails","isPickingUp","setIsPickingUp","bookCardLabel","toggleDetails","User","OfferCard","onContactCollector","onDelete","isDeleting","setIsDeleting","labelFromOfferState","collector","Library","init","useParams","showCreationModal","setShowCreationModal","selectLabels","unreserveOfferId","setUnreserveOfferId","setReservations","setMyOffers","reservationPickedupId","setReservationPickedupId","offerPickedupId","setOfferPickedupId","setIsbn","setIsbnError","bookForOffer","setBookForOffer","bookWasCreated","setBookWasCreated","deletedOfferId","setDeletedOfferId","reservationRequest","reservationsApi","reservationPickedupRequest","reservationId","offerPickedupRequest","checkIsbnRequest","bookApi","deleteOfferRequest","createOfferRequest","handleOfferWasPickedUp","handleReservationWasPickedUp","contactUser","handleDeleteOffer","isFetching","updatedReservations","updatedMyOffers","calmPerson","parseInt","happyPerson","newCreatedOffer","Messages","search","setSearch","setChats","chatsRequest","chatApi","unhappyPerson","users","includes","CreateMessage","onCreate","sending","setMessage","wasSend","setWasSend","defualtProps","Message","timestamp","creator","created","_path","Chat","setToken","setChat","createNewChat","setCreateNewChat","checkForExistingChat","setCheckForExistingChat","setMessages","setChatId","messageIsSending","setMessageIsSending","messagesEndRef","existingChatRequest","getChatMessagesRequest","sendMessageRequest","messagesApi","createChatRequest","existingMessages","scrollIntoView","behavior","scrollToBottom","created_at","creatorSub","Settings","showDeleteModal","setShowDeleteModal","passwordMailIsSent","setPasswordMailIsSent","isSendingPasswordMail","setIsSendingPasswordMail","editUser","setEditUser","name","email","update","setUpdate","setName","setEmail","emailError","setEmailError","setPicture","sendPasswordMailRequest","updateUserRequest","deleteUserRequest","toggleDeleteModal","deletePageCookies","localStorage","clear","sessionStorage","isValidEmail","sadPerson","RequireAuth","useLocation","to","from","_extends","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgFlag","_ref","svgRef","titleId","width","height","viewBox","fill","xmlns","d","ForwardRef","NavSlot","getVariantIcon","defaultsProps","PropTypes","Navigation","onSelect","select","App","selectedNavItem","setSelectedNavItem","setGetMetadata","metadataIsLoading","metadataIsSuccess","console","log","pathname","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","queryClient","QueryClient","ReactDOM","render","StrictMode","domain","clientId","redirectUri","audience","scope","client","getElementById","module","exports","isbnOrIsbn13","test","futureDate","setHours","setDate","cookie","replace","hostname","split","reduceRight","acc","val","arr"],"mappings":"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","file":"static/js/main.52e95b2c.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Icon.css\";\n\nexport const Icon = ({ className, children, size, ...props }) => {\n  return (\n    <div\n      className={`icon icon--${size} ${className}`}\n      style={{ fontSize: size }}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n};\n\nIcon.propTypes = {\n  /**\n   * Size of the icon\n   */\n  size: PropTypes.oneOf([\"xs\", \"sm\", \"base\", \"lg\", \"xl\"]),\n  /**\n   * classes\n   */\n  className: PropTypes.string,\n};\n\nIcon.defaultProps = {\n  size: \"base\",\n  className: \"\",\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Button.css\";\nimport { Icon } from \"../Icon/Icon\";\n\nexport const Button = ({\n  children,\n  size,\n  icon,\n  reverse,\n  variant,\n  disabled,\n  onClick,\n  loading,\n  ...props\n}) => {\n  function handleClick() {\n    if (!disabled && !loading) onClick();\n  }\n\n  return (\n    <button\n      className={`button ${variant ? `button--variant-${variant}` : \"\"} ${\n        size ? `button--${size}` : \"\"\n      } ${loading ? \"button--loading\" : \"\"}`}\n      disabled={disabled}\n      onClick={() => handleClick()}\n      {...props}\n    >\n      {icon && !reverse ? <Icon size={size}>{icon}</Icon> : null}\n      <span className=\"button__text\">{children}</span>\n      {icon && reverse ? <Icon size={size}>{icon}</Icon> : null}\n    </button>\n  );\n};\n\nButton.propTypes = {\n  /**\n   * Size of the button\n   */\n  size: PropTypes.oneOf([\"xs\", \"sm\", \"base\", \"lg\", \"xl\", \"full\"]),\n  /**\n   * An element that will be placed into the Icon component\n   */\n  icon: PropTypes.any,\n  /**\n   * Change the order from left-to-right to right-to-left\n   */\n  reverse: PropTypes.bool,\n  /**\n   * The look of the button\n   */\n  variant: PropTypes.oneOf([\"primary\", \"accent\", \"secondary\", \"white\", \"text\"]),\n  /**\n   * disabled the button\n   */\n  disabled: PropTypes.bool,\n  /**\n   *  disables the onClick event and let the button pulse\n   */\n  loading: PropTypes.bool,\n  /**\n   * click handler\n   */\n  onClick: PropTypes.func,\n};\n\nButton.defaultProps = {\n  size: \"base\",\n  icon: null,\n  reverse: false,\n  loading: false,\n  variant: \"primary\",\n  onClick: undefined,\n};\n","export default __webpack_public_path__ + \"static/media/happy.f85563a9.png\";","import React, { useEffect } from \"react\";\nimport \"./Login.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { Button } from \"../../components/Button/Button\";\nimport person from \"../../assets/person/happy.png\";\n\nexport const Login = ({ ...props }) => {\n  const {\n    loginWithRedirect,\n    isAuthenticated,\n    getAccessTokenSilently,\n    isLoading,\n  } = useAuth0();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      getAccessTokenSilently().then(() => navigate(\"/home\"));\n    }\n  }, [isAuthenticated]);\n\n  function handleLogin() {\n    loginWithRedirect();\n  }\n\n  return (\n    <div className=\"login-view\">\n      <div className=\"login-view__intro\">\n        <img\n          src={person}\n          alt=\"Happy person with a cup\"\n          className=\"login-view__person\"\n        />\n\n        {isLoading && (\n          <div>\n            <h1 className=\"headline\"> Logge ein</h1>\n            <p>\n              Wir haben einen frheren Login erkannt und loggen dich erneut ein.\n            </p>\n          </div>\n        )}\n\n        {!isLoading && !isAuthenticated && (\n          <div>\n            <h1 className=\"headline\"> Willkommen!</h1>\n            <p>\n              Nur noch ein Login trennt dich und deine zuknftigen\n              Lieblingsbcher.\n            </p>\n          </div>\n        )}\n      </div>\n      {!isLoading && !isAuthenticated && (\n        <Button size=\"xl\" onClick={handleLogin}>\n          Anmelden / Registrieren\n        </Button>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nconst MetadataContext = React.createContext();\n\nfunction metadataReducer(state, action) {\n  switch (action.type) {\n    case \"setMetadata\": {\n      return { ...action.payload };\n    }\n    case \"deleteMetadata\": {\n      return {};\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\nfunction MetadataProvider({ children }) {\n  const [metadataState, metadataDispatch] = React.useReducer(\n    metadataReducer,\n    {}\n  );\n  const value = { metadataState, metadataDispatch };\n\n  return (\n    <MetadataContext.Provider value={value}>\n      {children}\n    </MetadataContext.Provider>\n  );\n}\n\nfunction useMetadata() {\n  const context = React.useContext(MetadataContext);\n\n  if (context === undefined) {\n    throw new Error(\"useMetadata must be used within a MetadataProvider\");\n  }\n  return context;\n}\n\nexport { MetadataProvider, useMetadata };\n","import React from \"react\";\nconst ReceiverContext = React.createContext();\n\nfunction receiverReducer(state, action) {\n  switch (action.type) {\n    case \"setReceiver\": {\n      return { ...action.payload };\n    }\n    case \"resetReceiver\": {\n      return {};\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\nfunction ReceiverProvider({ children }) {\n  const [receiverState, receiverDispatch] = React.useReducer(\n    receiverReducer,\n    {}\n  );\n  const value = { receiverState, receiverDispatch };\n\n  return (\n    <ReceiverContext.Provider value={value}>\n      {children}\n    </ReceiverContext.Provider>\n  );\n}\n\nfunction useReceiver() {\n  const context = React.useContext(ReceiverContext);\n\n  if (context === undefined) {\n    throw new Error(\"useReceiver must be used within a ReceiverProvider\");\n  }\n  return context;\n}\n\nexport { ReceiverProvider, useReceiver };\n","import React from \"react\";\nconst ApiTokenContext = React.createContext();\n\nfunction apiTokenContext(state, action) {\n  switch (action.type) {\n    case \"setApiToken\": {\n      return { value: action.payload };\n    }\n    case \"deleteApiToken\": {\n      return { value: undefined };\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\nfunction ApiTokenProvider({ children }) {\n  const [apiTokenState, apiTokenDispatch] = React.useReducer(\n    apiTokenContext,\n    null\n  );\n  const value = { apiTokenState, apiTokenDispatch };\n\n  return (\n    <ApiTokenContext.Provider value={value}>\n      {children}\n    </ApiTokenContext.Provider>\n  );\n}\n\nfunction useApiToken() {\n  const context = React.useContext(ApiTokenContext);\n\n  if (context === undefined) {\n    throw new Error(\"useApiToken must be used within a ApiTokenProvider\");\n  }\n  return context;\n}\n\nexport { ApiTokenProvider, useApiToken };\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Card.css\";\n\nexport const Card = ({ className, children, paddingoff, clean, ...props }) => {\n  return (\n    <div\n      className={` ${clean ? \"card--clean\" : \"card\"} ${\n        paddingoff ? \"\" : \"card--padding\"\n      } ${className}`}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n};\n\nCard.propTypes = {\n  /**\n   * classes\n   */\n  className: PropTypes.string,\n  /**\n   * card without padding\n   */\n  paddingoff: PropTypes.bool,\n  /**\n   * turns of the shadow, background and border of the card\n   */\n  clean: PropTypes.bool,\n};\n\nCard.defaultProps = {\n  className: \"\",\n  paddingoff: false,\n  clean: false,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Label.css\";\n\nexport const Label = ({\n  children,\n  htmlFor,\n  variant,\n  size,\n  uppercase,\n  className,\n  ...props\n}) => {\n  return (\n    <label\n      htmlFor={htmlFor}\n      className={[\n        \"label\",\n        variant ? `label--variant-${variant}` : \"\",\n        size ? `label--size-${size}` : \"\",\n        uppercase ? `label--uppercase` : \"\",\n        `${className ? className : \"\"}`,\n      ].join(\" \")}\n      {...props}\n    >\n      {children ? children : \"label\"}\n    </label>\n  );\n};\n\nLabel.propTypes = {\n  /**\n   * the style of the label\n   */\n  variant: PropTypes.oneOf([\"base\", \"highlight\"]),\n  /**\n   * the style of the label\n   */\n  size: PropTypes.oneOf([\"xs\", \"sm\", \"base\", \"lg\", \"xl\"]),\n  /**\n   * transforms the text to uppercase\n   */\n  uppercase: PropTypes.bool,\n  /**\n   * add classes to the Label\n   */\n  className: PropTypes.string,\n  /**\n   * For which html elemt is the label (id of the element)\n   */\n  htmlFor: PropTypes.string,\n};\n\nLabel.defaultProps = {\n  variant: \"highlight\",\n  size: \"base\",\n  uppercase: true,\n  className: \"\",\n  htmlFor: \"\",\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Input.css\";\nimport { Label } from \"../Label/Label\";\n\nexport const Input = ({\n  label,\n  type,\n  value,\n  placeholder,\n  error,\n  onChange,\n  disabled,\n  ...props\n}) => {\n  return (\n    <div className={`input ${error !== \"\" ? \"input--error\" : \"\"}`} {...props}>\n      {label !== \"\" && (\n        <Label\n          size=\"xs\"\n          variant=\"base\"\n          className=\"input__label\"\n          htmlFor={label ? label : \"input-id\"}\n        >\n          {label}\n        </Label>\n      )}\n      <input\n        disabled={disabled}\n        id={label ? label : \"input-id\"}\n        className=\"input__input\"\n        type={type}\n        placeholder={placeholder}\n        onChange={(e) => onChange(e.target.value)}\n        value={value}\n      />\n      {error !== \"\" && <p className=\"input__error\">{error}</p>}\n    </div>\n  );\n};\n\nInput.propTypes = {\n  /**\n   * input label\n   */\n  label: PropTypes.string,\n  /**\n   * input type\n   */\n  type: PropTypes.string,\n  /**\n   * display placeholder when value is empty\n   */\n  placeholder: PropTypes.string,\n  /**\n   * value of the input\n   */\n  value: PropTypes.string,\n  /**\n   * error message\n   */\n  error: PropTypes.string,\n  /**\n   * on value change handler\n   */\n  onChange: PropTypes.func,\n  /**\n   * disable the input\n   */\n  disabled: PropTypes.bool,\n};\n\nInput.defaultProps = {\n  label: \"\",\n  type: \"text\",\n  placeholder: \"\",\n  error: \"\",\n  onChange: undefined,\n  disabled: false,\n};\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Filter.css\";\nimport { Card } from \"../Card/Card\";\nimport { Input } from \"../Input/Input\";\nimport { Button } from \"../Button/Button\";\nimport { isValideIsbnOrIsbn13, isValidZip } from \"../../utils/utils\";\n\nexport const Filter = ({ onFilter, initFilters, ...props }) => {\n  const [open, setOpen] = useState(false);\n  const [filters, setFilters] = useState({});\n  const [filterErrors, setFilterErrors] = useState({});\n  const [filtersInitialized, setFiltersInitialized] = useState(false);\n\n  useEffect(() => {\n    if (!filtersInitialized && initFilters) {\n      setFilters(initFilters);\n      setFiltersInitialized(true);\n    }\n  }, [initFilters]);\n\n  function handleOpen() {\n    setOpen((open) => !open);\n  }\n\n  function handleClose() {\n    setOpen((open) => !open);\n  }\n\n  function handleResetFilter() {\n    setFilterErrors({});\n    setFilters(initFilters);\n    onFilter(initFilters);\n  }\n\n  function handleNewFilter(filter) {\n    const currentFilters = Object.assign({}, filters);\n    const key = Object.keys(filter)[0];\n\n    // remove filter if value is empty\n    if (filter[key] === \"\" && currentFilters[key]) {\n      delete currentFilters[key];\n    }\n\n    const newFilter =\n      filter[key] === \"\" ? currentFilters : { ...currentFilters, ...filter };\n\n    setFilters(newFilter);\n  }\n\n  function handleFilter() {\n    setFilterErrors({});\n\n    const isbnError = filters.isbn && !isValideIsbnOrIsbn13(filters.isbn);\n    const zipError = filters.zip && !isValidZip(filters.zip);\n\n    if (isbnError) {\n      setFilterErrors((currentErrors) => {\n        return { ...currentErrors, ...{ isbn: \"Ungltige ISBN\" } };\n      });\n    }\n    if (zipError) {\n      setFilterErrors((currentErrors) => {\n        return {\n          ...currentErrors,\n          ...{ zip: \"Ungltige Postleitzahl - 5 Zahlen erfordert\" },\n        };\n      });\n    }\n\n    if (!isbnError && !zipError) {\n      onFilter(filters);\n      setOpen(false);\n    }\n  }\n\n  return (\n    <div className=\"filter\" {...props}>\n      {!open && (\n        <div className=\"filter__open__btn\">\n          <Button variant=\"secondary\" onClick={handleOpen}>\n            <div className=\"filter__open__btn__content\">\n              {Object.keys(filters).length > 0 && (\n                <div className=\"filter__badge\">\n                  {Object.keys(filters).length}\n                </div>\n              )}\n              Filter\n            </div>\n          </Button>\n        </div>\n      )}\n\n      {open && (\n        <Card className=\"filter__content\">\n          {/* \n        //TODO: reimplement if the backend has a seperated isbn and author search integrated  \n          <Input\n            onChange={(v) => handleNewFilter({ isbn: v.toLowerCase() })}\n            label=\"ISBN\"\n            value={filters.isbn ? filters.isbn : \"\"}\n            error={filterErrors.isbn ? filterErrors.isbn : \"\"}\n          /> \n          <Input\n            onChange={(v) => handleNewFilter({ author: v.toLowerCase() })}\n            label=\"Author\"\n            value={filters.author ? filters.author : \"\"}\n          /> */}\n          <Input\n            onChange={(v) => handleNewFilter({ zip: v.toLowerCase() })}\n            label=\"Postleitzahl\"\n            value={filters.zip ? filters.zip : \"\"}\n            error={filterErrors.zip ? filterErrors.zip : \"\"}\n          />\n          <Input\n            onChange={(v) => handleNewFilter({ city: v.toLowerCase() })}\n            label=\"Stadt\"\n            value={filters.city ? filters.city : \"\"}\n          />\n\n          <Button onClick={handleFilter}>Filtern</Button>\n          <Button size=\"sm\" variant=\"text\" onClick={handleResetFilter}>\n            zurcksetzen\n          </Button>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            schliessen\n          </Button>\n        </Card>\n      )}\n    </div>\n  );\n};\n\nFilter.propTypes = {\n  /**\n   * executed when the filter btn is clicked\n   */\n  onFilter: PropTypes.func,\n  /**\n   * initialize the filters\n   */\n  initFilters: PropTypes.shape({\n    isbn: PropTypes.string,\n    author: PropTypes.string,\n    zip: PropTypes.string,\n    city: PropTypes.string,\n  }),\n};\n\nFilter.defaultProps = {\n  onFilter: undefined,\n  initFilters: {},\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Modal.css\";\nimport { Card } from \"../Card/Card\";\n\nexport const Modal = ({ paddingoff, ...props }) => {\n  return (\n    <div\n      className={`modal ${props.className ? props.className : \"\"}`}\n      {...props}\n    >\n      <Card paddingoff={paddingoff} className=\"modal__card\">\n        {props.children}\n      </Card>\n    </div>\n  );\n};\n\nModal.propTypes = {\n  /**\n   * removes the padding form the card in the modal\n   */\n  paddingoff: PropTypes.bool,\n};\n\nModal.defaultProps = {\n  paddingoff: false,\n};\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Stepper.css\";\nimport { RiSubtractFill, RiAddFill } from \"react-icons/ri\";\n\nexport const Stepper = ({\n  unit,\n  min,\n  max,\n  initValue,\n  onChange,\n  disabled,\n  ...props\n}) => {\n  const [value, setValue] = useState(min || 1);\n\n  useEffect(() => {\n    onChange(value);\n  }, [value]);\n\n  function increase() {\n    if (value < max) setValue((currentValue) => currentValue + 1);\n  }\n  function decrease() {\n    if (value > min) setValue((currentValue) => currentValue - 1);\n  }\n\n  function showUnit() {\n    return `${unit ? ` ${unit}` : value > 1 ? \" Tage\" : \" Tag\"}`;\n  }\n\n  return (\n    <div className={`stepper ${props.className}`} {...props}>\n      <button\n        aria-label={`increase ${showUnit()}`}\n        className={`stepper__control ${\n          disabled ? \"stepper__control--disabled\" : \"\"\n        }`}\n        onClick={decrease}\n        disabled={disabled}\n      >\n        <RiSubtractFill />\n      </button>\n      <span className=\"stepper__value\">\n        {value}\n        {showUnit()}\n      </span>\n      <button\n        aria-label={`decrease ${showUnit()}`}\n        className={`stepper__control ${\n          disabled ? \"stepper__control--disabled\" : \"\"\n        }`}\n        onClick={increase}\n        disabled={disabled}\n      >\n        <RiAddFill />\n      </button>\n    </div>\n  );\n};\n\nStepper.propTypes = {\n  /**\n   * handler when the value changes\n   */\n  onChange: PropTypes.func,\n  /**\n   * min value for the stepper\n   */\n  min: PropTypes.number,\n  /** max value for the stepper */\n  max: PropTypes.number,\n  /** custom unit */\n  unit: PropTypes.string,\n  /** disables the stepper */\n  disabled: PropTypes.bool,\n};\n\nStepper.defaultProps = {\n  onChange: undefined,\n  min: 1,\n  max: 3,\n  unit: \"\",\n  disabled: false,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Badge.css\";\n\nexport const Badge = ({ variant, fullwidth, ...props }) => {\n  return (\n    <div\n      className={`badge badge--${variant} ${\n        fullwidth ? \"badge--fullwidth\" : \"\"\n      }`}\n      {...props}\n    >\n      {props.children}\n    </div>\n  );\n};\n\nBadge.propTypes = {\n  /**\n   * choose the appearence of the badge\n   */\n  variant: PropTypes.oneOf([\"medium\", \"accent\", \"primary\"]),\n  /**\n   * sets the badge to full with instead of max content\n   */\n  fullwidth: PropTypes.bool,\n};\n\nBadge.defaultProps = {\n  variant: \"medium\",\n  fullwidth: false,\n};\n","import React, { useRef, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport mapboxgl from \"mapbox-gl\";\nimport \"./Map.css\";\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_TOKEN;\n\nexport const Map = ({ center, marker, ...props }) => {\n  const mapContainerRef = useRef(null);\n  const defaultCenter = [13.409642496568159, 52.52081512666537];\n\n  const [lng, setLng] = useState(center[0] || defaultCenter[0]);\n  const [lat, setLat] = useState(center[1] || defaultCenter[1]);\n\n  // Initialize map when component mounts\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: mapContainerRef.current,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [lng, lat],\n      zoom: 13,\n      boxZoom: false,\n      scrollZoom: false,\n    });\n\n    if (marker) {\n      const el = document.createElement(\"div\");\n      el.className = \"map__marker\";\n\n      new mapboxgl.Marker(el).setLngLat([lng, lat]).addTo(map);\n    }\n\n    map.on(\"move\", () => {\n      setLng(map.getCenter().lng.toFixed(4));\n      setLat(map.getCenter().lat.toFixed(4));\n    });\n\n    // Clean up on unmount\n    return () => map.remove();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return <div className=\"map-container\" ref={mapContainerRef} {...props}></div>;\n};\n\nMap.propTypes = {\n  /**\n   * coordinates whith which the map is initialized and the marker is set if the marker is active (no changes will be applied while runtime)\n   */\n  center: PropTypes.arrayOf(PropTypes.number),\n  /**\n   * shows a marker/circle in the center of the map (center coordinates)\n   */\n  marker: PropTypes.bool,\n};\nMap.defaultProps = {\n  center: [],\n  marker: true,\n};\n","export default __webpack_public_path__ + \"static/media/book_small.b83dff1f.jpg\";","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Offer.css\";\nimport { Card } from \"../Card/Card\";\nimport { Modal } from \"../Modal/Modal\";\nimport { Stepper } from \"../Stepper/Stepper\";\nimport { Button } from \"../Button/Button\";\nimport { Badge } from \"../Badge/Badge\";\nimport { Map } from \"../Map/Map\";\nimport { addDaysToToday } from \"../../utils/utils\";\nimport FallBackCover from \"../../assets/book_small.jpg\";\n\n//TODO: Implement fall back cover if no image is provided with the book\n\nexport const Offer = ({\n  offer,\n  onReserveUntil,\n  onUnreserve,\n  onContactProvider,\n  reserved,\n  clean,\n  ...props\n}) => {\n  const [showOfferDetails, setShowOfferDetails] = useState(false);\n  const [showReservationModal, setShowReservationModal] = useState(false);\n  const [daysToReserve, setDaysToReserve] = useState(1);\n  const [isReserving, setIsReserving] = useState(false);\n  const [isUnreserving, setIsUnreserving] = useState(false);\n\n  useEffect(() => {\n    if (reserved) {\n      setShowReservationModal(false);\n      setIsReserving(false);\n    } else {\n      setIsUnreserving(false);\n    }\n  }, [reserved]);\n\n  function formatDateString(date) {\n    const GERMAN_MONTHS = [\n      \"Januar\",\n      \"Februar\",\n      \"Mrz\",\n      \"April\",\n      \"Mai\",\n      \"Juni\",\n      \"Juli\",\n      \"August\",\n      \"September\",\n      \"Oktober\",\n      \"November\",\n      \"Dezember\",\n    ];\n\n    const newDate = new Date(date);\n    const day = newDate.getDate();\n    const month = GERMAN_MONTHS[newDate.getMonth()];\n    const year = newDate.getFullYear();\n\n    return `${day}. ${month} ${year}`;\n  }\n\n  function toggleOfferDetails() {\n    setShowOfferDetails((lastState) => !lastState);\n  }\n\n  function toggleReservationModal() {\n    setShowReservationModal((lastState) => !lastState);\n  }\n\n  function handleStepper(days) {\n    setDaysToReserve(days);\n  }\n\n  function reserveHandler() {\n    const until = addDaysToToday(daysToReserve);\n    onReserveUntil({\n      id: offer._id,\n      until: until,\n    });\n    setIsReserving(true);\n  }\n\n  function unreserveHandler() {\n    setIsUnreserving(true);\n    onUnreserve({\n      id: offer._id,\n    });\n  }\n\n  function contactProviderHandler() {\n    onContactProvider(offer.provider);\n  }\n  return (\n    <>\n      {showReservationModal && !reserved && (\n        <Modal>\n          <div className=\"offer__reservation-modal\">\n            <h1 className=\"offer__reservation__title\">Reservierung</h1>\n            <Stepper onChange={handleStepper} disabled={isReserving} />\n            <Button onClick={reserveHandler} loading={isReserving}>\n              reservieren\n            </Button>\n            <Button\n              variant=\"secondary\"\n              onClick={toggleReservationModal}\n              disabled={isReserving}\n            >\n              zurck\n            </Button>\n          </div>\n        </Modal>\n      )}\n      <Card\n        clean={clean}\n        className={`offer ${props.className ? props.className : \"\"}`}\n        {...props}\n      >\n        <div className=\"offer__header\">\n          <div className=\"offer__title\">{offer.book.title}</div>\n          <div className=\"offer__author\">\n            VON {offer.book.authors.join(\" & \")}\n          </div>\n        </div>\n\n        {!showOfferDetails && (\n          <div\n            className=\"offer__cover\"\n            role=\"img\"\n            style={{\n              backgroundImage: `url(${\n                offer.book.image ? offer.book.image : FallBackCover\n              })`,\n            }}\n            onClick={toggleOfferDetails}\n          ></div>\n        )}\n\n        {showOfferDetails && (\n          <div className=\"offer__details\">\n            <div className=\"offer__map\">\n              <Map center={offer.coordinates} />\n            </div>\n\n            {!reserved && (\n              <Button size=\"xl\" onClick={toggleReservationModal}>\n                reservieren\n              </Button>\n            )}\n            {reserved && (\n              <Button\n                size=\"xl\"\n                variant=\"secondary\"\n                loading={isUnreserving}\n                onClick={unreserveHandler}\n              >\n                reservierung stornieren\n              </Button>\n            )}\n            <Button\n              variant=\"secondary\"\n              onClick={contactProviderHandler}\n              disabled={isUnreserving}\n            >\n              anbieter kontaktieren\n            </Button>\n            <Button\n              variant=\"secondary\"\n              onClick={toggleOfferDetails}\n              disabled={isUnreserving}\n            >\n              zurck\n            </Button>\n          </div>\n        )}\n\n        {reserved && !showOfferDetails && (\n          <div className=\"offer__reserved-badge\">\n            <Badge variant=\"primary\" fullwidth>\n              Reserviert\n            </Badge>\n          </div>\n        )}\n        <div className=\"offer__divider\"></div>\n        <div className=\"offer__user\">\n          <div\n            className=\"offer__user__picture\"\n            role=\"img\"\n            style={{ backgroundImage: `url(${offer.provider.picture})` }}\n          ></div>\n          <div className=\"offer__user__nickname\">{offer.provider.nickname}</div>\n          <div className=\"offer__created-at\">\n            {formatDateString(offer.createdAt)}\n          </div>\n          <div className=\"offer__zip\">{offer.zip}</div>\n          <div className=\"offer__city\">{offer.city}</div>\n        </div>\n      </Card>\n    </>\n  );\n};\n\nOffer.propTypes = {\n  /**\n   * the offer object from the api\n   */\n  offer: PropTypes.shape({\n    provider: PropTypes.shape({\n      sub: PropTypes.string,\n      nickname: PropTypes.string,\n      picture: PropTypes.string,\n    }),\n    book: PropTypes.shape({\n      _id: PropTypes.string,\n      title: PropTypes.string,\n      isbn: PropTypes.string,\n      isbn13: PropTypes.string,\n      authors: PropTypes.arrayOf(PropTypes.string),\n      image: PropTypes.string,\n    }),\n    coordinates: PropTypes.arrayOf(PropTypes.number),\n    zip: PropTypes.number,\n    city: PropTypes.string,\n    state: PropTypes.string,\n    reservation: PropTypes.string,\n    _id: PropTypes.string,\n    createdAt: PropTypes.string,\n  }),\n  /**\n   * click handler when the user hits reservate - it give the until date\n   */\n  onReserveUntil: PropTypes.func,\n  /**\n   * click handler when the contact provider btn is clicked\n   */\n  onContactProvider: PropTypes.func,\n  /**\n   * unreserve handler\n   */\n  onUnreserve: PropTypes.func,\n  /**\n   * reserved set true if the offer is reserved successfully via the api\n   */\n  reserved: PropTypes.bool,\n  /**\n   * no shadow, border and background\n   */\n  clean: PropTypes.bool,\n};\n\nOffer.defaultProps = {\n  offer: {},\n  onReserveUntil: undefined,\n  onContactProvider: undefined,\n  reserved: false,\n  onUnreserve: undefined,\n  clean: false,\n};\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://127.0.0.1:3443/\";\n\nconst instance = axios.create({\n  //baseURL: BASE_URL,\n  timeout: 1000,\n});\n\nconst createAuthenticationHeader = (token) => {\n  if (!token) throw new Error(\"Token is required.\");\n  if (typeof token !== \"string\") throw new TypeError(\"Invalid token\");\n\n  return { Authorization: `Bearer ${token}` };\n};\n\nconst user = {\n  getMetadata: async (token) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const metadata = await instance.get(\"/user/metadata\", {\n        headers: authHeader,\n      });\n\n      return metadata.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  setMetadata: async (token, metadata) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (!metadata || typeof metadata !== \"object\" || Array.isArray(metadata))\n        throw new TypeError(\"invalid metadata\");\n\n      const updatedMetadata = await instance.patch(\"/user/metadata\", metadata, {\n        headers: authHeader,\n      });\n\n      return updatedMetadata.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  setUser: async (token, user) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (!user || typeof user !== \"object\" || Array.isArray(user))\n        throw new TypeError(\"invalid user\");\n\n      const updatedUser = await instance.patch(\"/user\", user, {\n        headers: authHeader,\n      });\n\n      return updatedUser.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  sendPasswordChangeMail: async (token) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const changePasswordMailSent = await instance.post(\n        \"user/password\",\n        {},\n        {\n          headers: authHeader,\n        }\n      );\n\n      return changePasswordMailSent.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  deleteAccount: async (token) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const isDeleted = await instance.delete(\"/user\", {\n        headers: authHeader,\n      });\n\n      return isDeleted.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n};\n\nconst offers = {\n  getOffersWithFilter: async (token, filter) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (!filter || typeof filter !== \"object\" || Array.isArray(filter))\n        throw new TypeError(\"invalid filter\");\n\n      const filteredOffers = await instance.post(\"/offers/filter\", filter, {\n        headers: authHeader,\n      });\n\n      return filteredOffers.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  getMyOffers: async (token) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const myOffers = await instance.get(\"/offers/my\", {\n        headers: authHeader,\n      });\n\n      return myOffers.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  reserveOffer: async (token, options) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (\n        !options ||\n        typeof options !== \"object\" ||\n        Array.isArray(options) ||\n        !options.id ||\n        !options.until\n      )\n        throw new TypeError(\"invalid options\");\n\n      const reserved = await instance.post(\n        `offers/${options.id}/reserve`,\n        { until: options.until },\n        {\n          headers: authHeader,\n        }\n      );\n\n      return reserved.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  unreserveOffer: async (token, offerId) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (!offerId || typeof offerId !== \"string\")\n        throw new TypeError(\"invalid offer id\");\n\n      const unreserved = await instance.post(\n        `offers/${offerId}/unreserve`,\n        {},\n        {\n          headers: authHeader,\n        }\n      );\n\n      return unreserved.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  wasPickedup: async (token, id) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const reservations = await instance.post(\n        `offers/${id}/pickedup`,\n        {},\n        {\n          headers: authHeader,\n        }\n      );\n\n      return reservations.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  create: async (token, options) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (\n        !options ||\n        typeof options !== \"object\" ||\n        Array.isArray(options) ||\n        !options.book ||\n        !options.zip ||\n        !options.city\n      )\n        throw new TypeError(\"invalid options\");\n\n      const offer = await instance.post(`offers/`, options, {\n        headers: authHeader,\n      });\n\n      return offer.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  delete: async (token, id) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (!id || typeof id !== \"string\")\n        throw new TypeError(\"invalid offer id\");\n\n      const isDeleted = await instance.delete(`offers/${id}`, {\n        headers: authHeader,\n      });\n\n      return isDeleted.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n};\n\nconst reservations = {\n  getMyReservations: async (token) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const reservations = await instance.get(\"/reservations\", {\n        headers: authHeader,\n      });\n\n      return reservations.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n\n  wasPickedup: async (token, id) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const reservations = await instance.post(\n        `reservations/${id}/pickedup`,\n        {},\n        {\n          headers: authHeader,\n        }\n      );\n\n      return reservations.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n};\n\nconst books = {\n  checkIsbn: async (token, isbn) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (\n        !isbn ||\n        typeof isbn !== \"string\" ||\n        isbn.length < 9 ||\n        isbn.length > 13\n      )\n        throw new TypeError(\"invalid isbn\");\n\n      const isbnFilter = { isbn: isbn, isbn13: isbn };\n\n      if (isbn.length > 10) {\n        delete isbnFilter.isbn;\n      } else {\n        delete isbnFilter.isbn13;\n      }\n\n      const book = await instance.post(\"/books\", isbnFilter, {\n        headers: authHeader,\n      });\n\n      if (book.status === 200) return book.data;\n\n      return false;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n};\n\nconst chats = {\n  getMyChats: async (token) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const chats = await instance.get(\"/chats/my\", {\n        headers: authHeader,\n      });\n\n      return chats.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  getById: async (token, chatId) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (!chatId || typeof chatId !== \"string\")\n        throw new TypeError(\"invalid chatId\");\n\n      const chat = await instance.get(`chats/${chatId}`, {\n        headers: authHeader,\n      });\n\n      return chat.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  getByReceiverUserSub: async (token, receiverSub) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (!receiverSub || typeof receiverSub !== \"string\")\n        throw new TypeError(\"invalid receiverSub\");\n\n      const chat = await instance.get(`chats/sub/${receiverSub}`, {\n        headers: authHeader,\n      });\n\n      return chat.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  getMessages: async (token, chatId) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const messages = await instance.get(`/chats/${chatId}/messages`, {\n        headers: authHeader,\n      });\n\n      return messages.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  getMessagesAfterMessageId: async (token, chatId, messageId) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const messages = await instance.get(\n        `/chats/${chatId}/messages/${messageId}`,\n        {\n          headers: authHeader,\n        }\n      );\n\n      return messages.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  getLastMessage: async (token, chatId) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      const message = await instance.get(`/chats/${chatId}/last-message`, {\n        headers: authHeader,\n      });\n\n      return message.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n  create: async (token, receiver) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (\n        !receiver ||\n        typeof receiver !== \"object\" ||\n        Array.isArray(receiver) ||\n        !receiver.sub ||\n        !receiver.nickname ||\n        !receiver.picture\n      )\n        throw new TypeError(\"invalid receiver\");\n\n      const chat = await instance.post(\n        `chats/`,\n        { receiver: receiver },\n        {\n          headers: authHeader,\n        }\n      );\n\n      return chat.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n};\n\nconst messages = {\n  create: async (token, options) => {\n    try {\n      const authHeader = createAuthenticationHeader(token);\n\n      if (\n        !options ||\n        typeof options !== \"object\" ||\n        Array.isArray(options) ||\n        !options.content ||\n        !options.chat\n      )\n        throw new TypeError(\"invalid options\");\n\n      const createdMessage = await instance.post(\"/messages/\", options, {\n        headers: authHeader,\n      });\n\n      return createdMessage.data;\n    } catch (error) {\n      throw new Error(error);\n    }\n  },\n};\n\nexport { user, offers, reservations, books, chats, messages };\n","export default __webpack_public_path__ + \"static/media/searching.f736b1d7.png\";","export default __webpack_public_path__ + \"static/media/sad.35de7dca.png\";","import React, { useState, useEffect } from \"react\";\nimport \"./Home.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useMetadata } from \"../../contexts/metadata.context\";\nimport { useReceiver } from \"../../contexts/receiver.context\";\nimport { useMutation } from \"react-query\";\nimport { useApiToken } from \"../../contexts/apiToken.context\";\nimport { Filter } from \"../../components/Filter/Filter\";\nimport { Button } from \"../../components/Button/Button\";\nimport { Offer } from \"../../components/Offer/Offer\";\nimport { offers as offersApi } from \"../../services/api.servise\";\nimport isSearchingPerson from \"../../assets/person/searching.png\";\nimport isSadPerson from \"../../assets/person/sad.png\";\n\nexport const Home = ({ ...props }) => {\n  const { apiTokenState } = useApiToken();\n  const { metadataState: metadata } = useMetadata();\n  const { receiverDispatch } = useReceiver();\n  const navigate = useNavigate();\n  const [initFilterValue, setInitFilterValue] = useState();\n  const [offers, setOffers] = useState([]);\n  const [lastOfferId, setLastOfferId] = useState(null);\n  const [filter, setFilter] = useState({});\n  const [isLoadingMoreOffers, setIsLoadingMoreOffers] = useState(false);\n  const [hideMore, setHideMore] = useState(false);\n  const [pageYOffset, setPageYOffset] = useState(0);\n  const [reserveOfferDetails, setReserveOfferDetails] = useState(null);\n\n  const offersRequest = useMutation((options) => {\n    return offersApi.getOffersWithFilter(apiTokenState.value, options);\n  });\n  const reserveOfferRequest = useMutation((options) => {\n    return offersApi.reserveOffer(apiTokenState.value, options);\n  });\n  const unreserveOfferRequest = useMutation((offerId) => {\n    return offersApi.unreserveOffer(apiTokenState.value, offerId);\n  });\n\n  //TODO: Fix scrollto its visible that the content moves up and fast down again\n\n  //TODO: implement error handling for example if the offer is reserved already and the user tries to reserve it again.\n\n  useEffect(() => {\n    if ((metadata && metadata.city) || (metadata && metadata.zip)) {\n      const initMetadataFilter = { city: metadata.city, zip: metadata.zip };\n      setInitFilterValue(initMetadataFilter);\n      setFilter({ filter: initMetadataFilter });\n      offersRequest.mutate({ filter: initMetadataFilter });\n    }\n  }, [metadata]);\n\n  useEffect(() => {\n    if (\n      !offersRequest.isLoading &&\n      offersRequest.isSuccess &&\n      offersRequest.data\n    ) {\n      const newOffers = offersRequest.data;\n\n      if (newOffers.length > 0) {\n        setLastOfferId(newOffers[newOffers.length - 1]._id);\n\n        setOffers((lastOffers) => [...lastOffers, ...newOffers]);\n\n        window.scrollTo(0, pageYOffset);\n\n        if (isLoadingMoreOffers) setIsLoadingMoreOffers(false);\n\n        if (newOffers.length < 10) setHideMore(true);\n      }\n    }\n  }, [offersRequest.isLoading]);\n\n  useEffect(() => {\n    if (!reserveOfferRequest.isLoading && reserveOfferRequest.isSuccess) {\n      const updatedOfferInOffers = offers.map((offer) => {\n        if (offer._id === reserveOfferDetails.id) offer.reserved = true;\n\n        return offer;\n      });\n      setOffers(updatedOfferInOffers);\n    }\n  }, [reserveOfferRequest.isLoading]);\n\n  useEffect(() => {\n    if (!unreserveOfferRequest.isLoading && unreserveOfferRequest.isSuccess) {\n      const updatedOfferInOffers = offers.map((offer) => {\n        if (offer._id === reserveOfferDetails.id) offer.reserved = false;\n\n        return offer;\n      });\n      setOffers(updatedOfferInOffers);\n    }\n  }, [unreserveOfferRequest.isLoading]);\n\n  function handleNewFilter(value) {\n    setOffers([]);\n    setFilter({ filter: value });\n    setHideMore(false);\n\n    offersRequest.mutate({\n      filter: value,\n    });\n  }\n\n  function handleLoadMoreOffers() {\n    setIsLoadingMoreOffers(true);\n\n    const yOffset = window.pageYOffset;\n    setPageYOffset(yOffset);\n\n    const newFilterWithLastOfferID = {\n      filter: filter.filter,\n      lastFetchedOfferId: lastOfferId,\n    };\n\n    setFilter(newFilterWithLastOfferID);\n\n    offersRequest.mutate({\n      filter: newFilterWithLastOfferID,\n      lastFetchedOfferId: lastOfferId,\n    });\n  }\n\n  function handleCreateOffer() {\n    navigate(`/library/create-offer`);\n  }\n\n  function handleContactProvider(provider) {\n    receiverDispatch({ type: \"setReceiver\", payload: provider });\n    navigate(`/messages/sub/${provider.sub}`);\n    //TODO: implement the book in the first message automatically\n  }\n\n  function handleReserveOffer(details) {\n    const reserveOptions = { id: details.id, until: details.until };\n\n    setReserveOfferDetails(reserveOptions);\n    reserveOfferRequest.mutate(reserveOptions);\n  }\n\n  function handleUnreserveOffer(details) {\n    unreserveOfferRequest.mutate(details.id);\n  }\n\n  return (\n    <div className=\"home-view\">\n      {initFilterValue && (\n        <Filter onFilter={handleNewFilter} initFilters={initFilterValue} />\n      )}\n\n      {offersRequest.isLoading && offers.length === 0 && (\n        <div className=\"home-view__loading\">\n          <img\n            src={isSearchingPerson}\n            alt=\"Person seraches for offers on a Laptop\"\n          />\n          <p>Suche nach Inseraten</p>\n        </div>\n      )}\n\n      {offers.length === 0 &&\n        offersRequest.isSuccess &&\n        !offersRequest.isLoading && (\n          <div className=\"home-view__loading\">\n            <img src={isSadPerson} alt=\"Sad person\" />\n            <p>\n              Wir konnten leider keine Inserate finden. Du kannst die Suchfilter\n              ndern, um mehr Angebote zu finden oder erstelle ein Inserat.\n            </p>\n            <Button onClick={handleCreateOffer}>Erstelle ein Inserat</Button>\n          </div>\n        )}\n\n      {!offersRequest.isLoading &&\n        offers &&\n        offers.map((offer) => (\n          <Offer\n            key={offer._id}\n            offer={offer}\n            onContactProvider={handleContactProvider}\n            onReserveUntil={handleReserveOffer}\n            onUnreserve={handleUnreserveOffer}\n            reserved={offer.reserved}\n          />\n        ))}\n\n      {!offersRequest.isLoading && offers.length > 0 && !hideMore && (\n        <Button loading={isLoadingMoreOffers} onClick={handleLoadMoreOffers}>\n          Weitere laden\n        </Button>\n      )}\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Select.css\";\nimport { Button } from \"../Button/Button\";\n\nexport const Select = ({\n  items,\n  variant,\n  onChange,\n  preselected,\n  disabled,\n  ...props\n}) => {\n  const itemsAreFilled = items.length > 0;\n  const initialySelected = itemsAreFilled && preselected ? preselected : \"\";\n  const [selected, setSelected] = useState(initialySelected);\n\n  function selectItem(item) {\n    setSelected(item.label);\n    if (item.label !== selected) {\n      onChange(item.label);\n    }\n  }\n\n  return (\n    <div className=\"select\" {...props}>\n      {items.length === 0 && <span>No Items given</span>}\n      <>\n        {items.map((item, index) => (\n          <Button\n            disabled={disabled}\n            size=\"full\"\n            key={`${item.label}-${index}`}\n            variant={`${item.label}` === selected ? variant : \"secondary\"}\n            icon={item.icon ? item.icon : null}\n            reverse={item.reverse}\n            onClick={() => selectItem(item)}\n            style={{ transition: \"background-color 300ms ease-in\" }}\n          >\n            {item.label}\n          </Button>\n        ))}\n      </>\n    </div>\n  );\n};\n\nSelect.propTypes = {\n  /**\n   * items to disbplay in the select\n   */\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string,\n      icon: PropTypes.any,\n      reverse: PropTypes.bool,\n    })\n  ),\n  /**\n   * color appereance of the buttons\n   */\n  variant: PropTypes.oneOf([\"accent\", \"primary\"]),\n  /**\n   * which item is initially selected\n   */\n  preselected: PropTypes.string,\n  /**\n   * onChange handler\n   */\n  onChange: PropTypes.func,\n  /**\n   * disabled input\n   */\n  disabled: PropTypes.bool,\n};\n\nSelect.defaultProps = {\n  disabled: false,\n  items: [],\n  variant: \"accent\",\n  preselected: \"\",\n  onChange: undefined,\n};\n","export default __webpack_public_path__ + \"static/media/smilling.3f48dd85.png\";","import React, { useState, useEffect } from \"react\";\nimport \"./Onboarding.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Input } from \"../../components/Input/Input\";\nimport { Select } from \"../../components/Select/Select\";\nimport { Button } from \"../../components/Button/Button\";\nimport { isValidZip } from \"../../utils/utils\";\nimport { useQuery } from \"react-query\";\nimport { user as userApi } from \"../../services/api.servise\";\nimport { useApiToken } from \"../../contexts/apiToken.context\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport person from \"../../assets/person/smilling.png\";\nimport { useMetadata } from \"../../contexts/metadata.context\";\n\nexport const Onboarding = ({ ...props }) => {\n  const navigate = useNavigate();\n  const { logout } = useAuth0();\n  const { apiTokenState } = useApiToken();\n  const [nickname, setNickname] = useState(\"\");\n  const [nicknameError, setNicknameError] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [cityError, setCityError] = useState(\"\");\n  const [zip, setZip] = useState(\"\");\n  const [zipError, setZipError] = useState(\"\");\n  const [userWouldRentBooks, setUserWouldRentBooks] = useState(false);\n  const selectItems = [{ label: \"Ja\" }, { label: \"Nein\" }];\n  const [onboardingFinished, setOnboardingFinished] = useState(false);\n\n  const [postMetadataData, setPostMetadataData] = useState(null);\n  const [postMetadata, setPostMetadata] = useState(false);\n\n  const [postNickname, setPostNickname] = useState(false);\n\n  const { metadataDispatch } = useMetadata();\n\n  const { isLoading: postMetadataIsLoading, data: postMetadataResponse } =\n    useQuery(\n      \"metadata\",\n      async () => {\n        return await userApi.setMetadata(\n          apiTokenState?.value,\n          postMetadataData\n        );\n      },\n      {\n        enabled: postMetadata,\n      }\n    );\n\n  const { isLoading: postNicknameIsLoading, data: postNicknameResponse } =\n    useQuery(\n      \"nickname\",\n      async () => {\n        return await userApi.setUser(apiTokenState?.value, {\n          nickname: nickname,\n        });\n      },\n      {\n        enabled: postNickname,\n      }\n    );\n\n  useEffect(() => {\n    if (\n      !postMetadataIsLoading &&\n      postMetadataResponse &&\n      !postNicknameIsLoading &&\n      postNicknameResponse\n    ) {\n      setPostMetadata(false);\n      setPostNickname(false);\n      setOnboardingFinished(true);\n    }\n  }, [\n    postMetadataIsLoading,\n    postMetadataResponse,\n    postNicknameIsLoading,\n    postNicknameResponse,\n  ]);\n\n  function resetErrors() {\n    setNicknameError(\"\");\n    setCityError(\"\");\n    setZipError(\"\");\n  }\n\n  function isValidNickname(nickname) {\n    if (!nickname || nickname.length < 3 || nickname > 30) return false;\n\n    return true;\n  }\n  function isValidCity(city) {\n    if (!city || nickname.length < 2) return false;\n\n    return true;\n  }\n\n  function handleNicknameChange(value) {\n    setNickname(value);\n  }\n\n  function handleCityChange(value) {\n    setCity(value);\n  }\n\n  function handleZipChange(value) {\n    setZip(value);\n  }\n\n  function handleRentelSelect(value) {\n    if (value === \"Ja\") {\n      setUserWouldRentBooks(true);\n    } else {\n      setUserWouldRentBooks(false);\n    }\n  }\n\n  function handleSaveMetadata() {\n    resetErrors();\n\n    if (!isValidZip(zip) || !isValidNickname(nickname) || !isValidCity) {\n      if (!isValidZip(zip)) setZipError(\"Keine zulssige Postleitzahl.\");\n\n      if (!isValidNickname(nickname))\n        setNicknameError(\n          \"Der Anzeigename muss zwischen 6 und 30 Zeichen lang sein.\"\n        );\n\n      if (!isValidCity(city))\n        setCityError(\"Die Stadt muss mindestens drei Zeichen lang sein.\");\n\n      return;\n    }\n\n    setPostMetadataData({\n      city,\n      zip,\n      rental: userWouldRentBooks,\n      isOnboarded: true,\n    });\n\n    setPostMetadata(true);\n    setPostNickname(true);\n  }\n\n  function handleCancel() {\n    logout({ returnTo: window.location.origin });\n  }\n\n  function handleFinished() {\n    metadataDispatch({ type: \"setMetadata\", payload: postMetadataResponse });\n    navigate(\"/home\");\n  }\n\n  return (\n    <div className=\"onboarding-view\">\n      {!onboardingFinished && (\n        <>\n          <section className=\"onboarding-view__section\">\n            <h1 className=\"headline\">Dein Name</h1>\n            <p>\n              Unter welchen Namen sollen dich die Anderen Nutzer sehen \n              knnen?\n            </p>\n            <Input\n              label=\"Anzeigename\"\n              placeholder=\"Anzeigename\"\n              value={nickname}\n              onChange={handleNicknameChange}\n              error={nicknameError}\n              type=\"text\"\n              disabled={postMetadata || postNickname}\n            />\n          </section>\n\n          <section className=\"onboarding-view__section\">\n            <h1 className=\"headline\">Dein Einzugsgebiet</h1>\n            <p>\n              In welchen Gebiet  sollen wir fr dich nach Bchern suchen ?\n            </p>\n            <Input\n              disabled={postMetadata || postNickname}\n              label=\"Stadt\"\n              placeholder=\"Stadt\"\n              value={city}\n              onChange={handleCityChange}\n              error={cityError}\n              type=\"text\"\n            />\n\n            <Input\n              disabled={postMetadata || postNickname}\n              label=\"Postleitzahl\"\n              placeholder=\"Postleitzahl\"\n              value={zip}\n              onChange={handleZipChange}\n              error={zipError}\n              type=\"text\"\n            />\n          </section>\n\n          <section className=\"onboarding-view__section\">\n            <h1 className=\"headline\">Bcher verleihen</h1>\n            <p>\n              Wre es fr dich in Zukunft eine Option einige deiner\n              Lieblingsstcke  zu verleihen?\n            </p>\n            <Select\n              disabled={postMetadata || postNickname}\n              items={selectItems}\n              preselected={selectItems[1].label}\n              variant=\"accent\"\n              onChange={handleRentelSelect}\n            />\n          </section>\n\n          <section className=\"onboarding-view__section onboarding-view__section--gap-4 mt-4\">\n            <Button\n              loading={postMetadata || postNickname}\n              size=\"xl\"\n              onClick={handleSaveMetadata}\n            >\n              Speichern & Loslegen\n            </Button>\n            <Button\n              disabled={postMetadata || postNickname}\n              variant=\"secondary\"\n              onClick={handleCancel}\n            >\n              Abbrechen & Ausloggen\n            </Button>\n          </section>\n        </>\n      )}\n\n      {onboardingFinished && (\n        <section className=\"onboarding-view__section onboarding-view__section--gap-4\">\n          <img\n            src={person}\n            alt=\"Happy person with a cup\"\n            className=\"onboarding-view__person\"\n          />\n          <h1 className=\"headline\">Super {nickname}!</h1>\n          <p>\n            Alles ist eingerichtet ! Schnapp dir eine Tasse Kaffee , Tee\n            oder dein Lieblingsgetrnk deiner Wahl und begebe dich auf die Suche\n             nach deinem nchsten Lieblingsbuch .\n          </p>\n          <Button size=\"xl\" onClick={handleFinished}>\n            Loslegen\n          </Button>\n        </section>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./BookCard.css\";\nimport { Card } from \"../Card/Card\";\nimport { Badge } from \"../Badge/Badge\";\n\nexport const BookCard = ({\n  onClick,\n  alt,\n  imageUrl,\n  variant,\n  label,\n  ...props\n}) => {\n  return (\n    <Card>\n      <div className=\"book-card\" onClick={onClick} {...props}>\n        <div\n          className=\"book-card__cover\"\n          role=\"img\"\n          aria-label={alt}\n          style={{ backgroundImage: `url(${imageUrl})` }}\n        >\n          {!imageUrl ? alt : null}\n        </div>\n        <Badge fullwidth variant={variant}>\n          {label}\n        </Badge>\n      </div>\n    </Card>\n  );\n};\n\nBookCard.propTypes = {\n  /**\n   * click handler\n   */\n  onClick: PropTypes.func,\n  /**\n   * altTexternative text for the imageUrl\n   */\n  alt: PropTypes.string,\n  /**\n   * book cover imageUrl to show\n   */\n  imageUrl: PropTypes.string,\n  /**\n   * style of the badge\n   */\n  variant: PropTypes.oneOf([\"accent\", \"medium\", \"primary\"]),\n  /**\n   * text which is displayed in the badge\n   */\n  label: PropTypes.string,\n};\n\nBookCard.defaultProps = {\n  onClick: undefined,\n  variant: \"medium\",\n};\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./ReservationCard.css\";\nimport { Modal } from \"../Modal/Modal\";\nimport { Offer } from \"../Offer/Offer\";\nimport { Button } from \"../Button/Button\";\nimport { BookCard } from \"../BookCard/BookCard\";\nimport FallBackCover from \"../../assets/book_small.jpg\";\n\nexport const ReservationCard = ({\n  reservation,\n  onContactProvider,\n  onUnreserve,\n  onPickedUp,\n}) => {\n  const today = new Date();\n  const until = new Date(reservation.until);\n  const timeDifferenceBetweenTodayAndUntil = until.getTime() - today.getTime();\n  var daysLeftOfReservation = Math.round(\n    timeDifferenceBetweenTodayAndUntil / (1000 * 60 * 60 * 24)\n  );\n  const [showDetails, setShowDetails] = useState(false);\n  const [isUnreserving, setIsUnreserving] = useState(false);\n  const [isPickingUp, setIsPickingUp] = useState(false);\n\n  const bookCardLabel = `Noch ${daysLeftOfReservation} ${\n    daysLeftOfReservation > 1 ? \"Tage\" : \"Tag\"\n  }`;\n\n  function toggleDetails() {\n    setShowDetails((lastState) => !lastState);\n  }\n\n  function handleUnreserve() {\n    setIsUnreserving(true);\n    onUnreserve(reservation.offer._id);\n    setShowDetails(false);\n  }\n  function handleContactProvider() {\n    onContactProvider(reservation.offer.provider);\n  }\n  function bookWasPickedupHandler() {\n    setIsPickingUp(true);\n    onPickedUp(reservation._id);\n  }\n\n  return (\n    <>\n      <BookCard\n        onClick={toggleDetails}\n        imageUrl={\n          reservation.offer.book.image\n            ? reservation.offer.book.image\n            : FallBackCover\n        }\n        variant={daysLeftOfReservation <= 1 ? \"accent\" : \"medium\"}\n        alt={reservation.offer.book.title}\n        label={bookCardLabel}\n      />\n\n      {showDetails && (\n        <>\n          <Modal paddingoff>\n            <Offer\n              offer={reservation.offer}\n              reserved\n              clean\n              onUnreserve={handleUnreserve}\n              onContactProvider={handleContactProvider}\n            />\n            <div className=\"reservation-card__modal\">\n              <Button loading={isPickingUp} onClick={bookWasPickedupHandler}>\n                Buch wurde abgeholt\n              </Button>\n              <Button\n                variant=\"secondary\"\n                disabled={isUnreserving || isPickingUp}\n                onClick={toggleDetails}\n              >\n                schlieen\n              </Button>\n            </div>\n          </Modal>\n        </>\n      )}\n    </>\n  );\n};\n\nReservationCard.propTypes = {\n  /**\n   * reservation object from the api\n   */\n  reservation: PropTypes.shape({\n    _id: PropTypes.string,\n    collector: PropTypes.shape({\n      sub: PropTypes.string,\n      nickname: PropTypes.string,\n      picture: PropTypes.string,\n    }),\n    until: PropTypes.string,\n    offer: PropTypes.shape({\n      _id: PropTypes.string,\n      provider: PropTypes.shape({\n        sub: PropTypes.string,\n        nickname: PropTypes.string,\n        picture: PropTypes.string,\n      }),\n      book: PropTypes.shape({\n        _id: PropTypes.string,\n        title: PropTypes.string,\n        isbn: PropTypes.string,\n        isbn13: PropTypes.string,\n        image: PropTypes.string,\n        authors: PropTypes.arrayOf(PropTypes.string),\n      }),\n      coordinates: PropTypes.arrayOf(PropTypes.number),\n      zip: PropTypes.number,\n      city: PropTypes.string,\n      state: PropTypes.oneOf([\"pending\", \"reserved\", \"deleted\", \"pickedup\"]),\n      createdAt: PropTypes.string,\n      reservation: PropTypes.string,\n    }),\n    state: PropTypes.oneOf([\"reserved\", \"deleted\", \"pickedup\", \"expired\"]),\n  }),\n  /**\n   * click handler when the contact provider btn is clicked\n   */\n  onContactProvider: PropTypes.func,\n  /**\n   * unreserve handler\n   */\n  onUnreserve: PropTypes.func,\n  /**\n   * click handler when the book was picked up button is clicked\n   */\n  onPickedUp: PropTypes.func,\n};\n\nReservationCard.defaultProps = {\n  reservation: {},\n  onContactProvider: undefined,\n  onUnreserve: undefined,\n  onPickedUp: undefined,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./User.css\";\n\nexport const User = ({ user, ...props }) => {\n  return (\n    <div className=\"user\" {...props}>\n      <img src={user.picture} alt={user.nickname} className=\"user__picture\" />\n      <span className=\"user__nickname\">{user.nickname}</span>\n    </div>\n  );\n};\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    sub: PropTypes.string,\n    nickname: PropTypes.string,\n    picture: PropTypes.string,\n  }),\n};\n\nUser.defaultProps = {\n  user: { sub: \"\", nickname: \"\", picture: \"\" },\n};\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./OfferCard.css\";\nimport { BookCard } from \"../BookCard/BookCard\";\nimport { Modal } from \"../Modal/Modal\";\nimport { Button } from \"../Button/Button\";\nimport { Badge } from \"../Badge/Badge\";\nimport { User } from \"../User/User\";\nimport FallBackCover from \"../../assets/book_small.jpg\";\n\nexport const OfferCard = ({\n  offer,\n  onContactCollector,\n  onDelete,\n  onPickedUp,\n}) => {\n  const [showDetails, setShowDetails] = useState(false);\n  const [isPickingUp, setIsPickingUp] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  const today = new Date();\n  const until = new Date(offer.reservation ? offer.reservation.until : \"\");\n  const timeDifferenceBetweenTodayAndUntil = until.getTime() - today.getTime();\n  var daysLeftOfReservation = Math.round(\n    timeDifferenceBetweenTodayAndUntil / (1000 * 60 * 60 * 24)\n  );\n\n  function toggleDetails() {\n    setShowDetails((lastState) => !lastState);\n  }\n  function bookVariantFromOfferState(state) {\n    if (state === \"pending\") return \"medium\";\n    if (state === \"pickedup\") return \"primary\";\n    return \"accent\";\n  }\n  function labelFromOfferState(state) {\n    if (state === \"pending\") return \"offen\";\n    if (state === \"pickedup\") return \"abgeholt\";\n    return \"reserviert\";\n  }\n  function contactCollectorHandler() {\n    onContactCollector(offer.reservation.collector);\n  }\n  function handleDelete() {\n    setIsDeleting(true);\n    onDelete(offer._id);\n  }\n  function bookWasPickedupHandler() {\n    setIsPickingUp(true);\n    onPickedUp(offer._id);\n  }\n  return (\n    <>\n      <BookCard\n        onClick={toggleDetails}\n        imageUrl={offer.book.image ? offer.book.image : FallBackCover}\n        variant={bookVariantFromOfferState(offer.state)}\n        alt={offer.book.title}\n        label={labelFromOfferState(offer.state)}\n      />\n      {showDetails && (\n        <Modal>\n          <div className=\"offer-card__modal\">\n            <div>\n              <h1 className=\"offer-card__book-title\">{offer.book.title}</h1>\n              <p className=\"offer-card__book-author\">\n                {offer.book.authors.join(\" & \")}\n              </p>\n            </div>\n            <div>\n              <p className=\"offer-card__zip-city\">\n                Abzuholen in {offer.zip} {offer.city}\n              </p>\n            </div>\n\n            <Button variant=\"text\" onClick={handleDelete} loading={isDeleting}>\n              Inserat lschen\n            </Button>\n\n            {offer?.reservation && offer.state === \"reserved\" && (\n              <>\n                <div className=\"offer-card__divider\"></div>\n                <User user={offer.reservation.collector} />\n                <Badge fullwidth>\n                  {`${daysLeftOfReservation} ${\n                    daysLeftOfReservation > 1 ? \"Tage\" : \"Tag\"\n                  } ${labelFromOfferState(offer.state)} `}\n                </Badge>\n                <Button\n                  disabled={isPickingUp}\n                  variant=\"secondary\"\n                  onClick={contactCollectorHandler}\n                >\n                  {offer.reservation.collector.nickname} kontaktieren\n                </Button>\n                <div className=\"offer-card__divider\"></div>\n              </>\n            )}\n            {offer?.reservation && (\n              <Button loading={isPickingUp} onClick={bookWasPickedupHandler}>\n                Buch wurde abgeholt\n              </Button>\n            )}\n            <Button\n              disabled={isPickingUp || isDeleting}\n              variant=\"secondary\"\n              onClick={toggleDetails}\n            >\n              schlieen\n            </Button>\n          </div>\n        </Modal>\n      )}\n    </>\n  );\n};\n\nOfferCard.propTypes = {\n  /**\n   * book offer\n   */\n  offer: PropTypes.shape({\n    _id: PropTypes.string,\n    provider: PropTypes.shape({\n      sub: PropTypes.string,\n      nickname: PropTypes.string,\n      picture: PropTypes.string,\n    }),\n    book: PropTypes.shape({\n      _id: PropTypes.string,\n      title: PropTypes.string,\n      isbn: PropTypes.string,\n      isbn13: PropTypes.string,\n      image: PropTypes.string,\n      authors: PropTypes.arrayOf(PropTypes.string),\n    }),\n    coordinates: PropTypes.arrayOf(PropTypes.number),\n    zip: PropTypes.number,\n    city: PropTypes.string,\n    state: PropTypes.oneOf([\"pending\", \"reserved\", \"deleted\", \"pickedup\"]),\n    createdAt: PropTypes.string,\n    reservation: PropTypes.shape({\n      _id: PropTypes.string,\n      collector: PropTypes.shape({\n        sub: PropTypes.string,\n        nickname: PropTypes.string,\n        picture: PropTypes.string,\n      }),\n      until: PropTypes.string,\n      offer: PropTypes.string,\n      state: PropTypes.oneOf([\"reserved\", \"deleted\", \"pickedup\", \"expired\"]),\n      __v: 0,\n    }),\n  }),\n  /**\n   * click handler when the contact collector button is clicked\n   */\n  onContactCollector: PropTypes.func,\n  /**\n   * click handler when the book was picked up button is clicked\n   */\n  onPickedUp: PropTypes.func,\n  /**\n   * click handler when the offer is deleted\n   */\n  onDelete: PropTypes.func,\n};\nOfferCard.defaultProps = {\n  onContactCollector: undefined,\n  onPickedUp: undefined,\n  onDelete: undefined,\n};\n","export default __webpack_public_path__ + \"static/media/calm.f9e39bab.png\";","import React, { useEffect, useState } from \"react\";\nimport \"./Library.css\";\nimport { useMetadata } from \"../../contexts/metadata.context\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useReceiver } from \"../../contexts/receiver.context\";\nimport { useParams } from \"react-router-dom\";\nimport { Modal } from \"../../components/Modal/Modal\";\nimport { Button } from \"../../components/Button/Button\";\nimport { Select } from \"../../components/Select/Select\";\nimport { ReservationCard } from \"../../components/ReservationCard/ReservationCard\";\nimport { OfferCard } from \"../../components/OfferCard/OfferCard\";\nimport { Input } from \"../../components/Input/Input\";\nimport calmPerson from \"../../assets/person/calm.png\";\nimport happyPerson from \"../../assets/person/smilling.png\";\n\nimport { useApiToken } from \"../../contexts/apiToken.context\";\nimport { useQuery, useMutation } from \"react-query\";\nimport {\n  reservations as reservationsApi,\n  offers as offersApi,\n  books as bookApi,\n} from \"../../services/api.servise\";\n\nexport const Library = ({ ...props }) => {\n  const { apiTokenState } = useApiToken();\n  const { metadataState: metadata } = useMetadata();\n  const { receiverDispatch } = useReceiver();\n  const navigate = useNavigate();\n  const { init } = useParams();\n  const [showCreationModal, setShowCreationModal] = useState(false);\n  const selectLabels = [{ label: \"reserviert\" }, { label: \"inseriert\" }];\n  const [selected, setSelected] = useState(selectLabels[0].label);\n  const [unreserveOfferId, setUnreserveOfferId] = useState(null);\n  const [reservations, setReservations] = useState([]);\n  const [myOffers, setMyOffers] = useState([]);\n  const [reservationPickedupId, setReservationPickedupId] = useState(null);\n  const [offerPickedupId, setOfferPickedupId] = useState(null);\n  const [isbn, setIsbn] = useState(\"\");\n  const [isbnError, setIsbnError] = useState(\"\");\n  const [bookForOffer, setBookForOffer] = useState(null);\n  const [bookWasCreated, setBookWasCreated] = useState(false);\n  const [deletedOfferId, setDeletedOfferId] = useState(null);\n\n  const reservationRequest = useQuery(\"reservations\", async () => {\n    return await reservationsApi.getMyReservations(apiTokenState.value);\n  });\n\n  const offersRequest = useQuery(\"offers\", async () => {\n    return await offersApi.getMyOffers(apiTokenState.value);\n  });\n\n  const unreserveOfferRequest = useMutation((offerId) => {\n    return offersApi.unreserveOffer(apiTokenState.value, offerId);\n  });\n\n  const reservationPickedupRequest = useMutation((reservationId) => {\n    return reservationsApi.wasPickedup(apiTokenState.value, reservationId);\n  });\n\n  const offerPickedupRequest = useMutation((offerId) => {\n    return offersApi.wasPickedup(apiTokenState.value, offerId);\n  });\n\n  const checkIsbnRequest = useMutation((isbn) => {\n    return bookApi.checkIsbn(apiTokenState.value, isbn);\n  });\n\n  const deleteOfferRequest = useMutation((id) => {\n    return offersApi.delete(apiTokenState.value, id);\n  });\n\n  const createOfferRequest = useMutation((options) => {\n    return offersApi.create(apiTokenState.value, options);\n  });\n\n  // If route has create param show creation modal\n  useEffect(() => {\n    if (init === \"create-offer\") {\n      setShowCreationModal(true);\n      setBookWasCreated(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!reservationRequest.isFetching && reservationRequest.isSuccess) {\n      if (reservationRequest.data.length > 0) {\n        setReservations(reservationRequest.data);\n      }\n    }\n  }, [reservationRequest.isFetching]);\n\n  useEffect(() => {\n    if (offersRequest.isSuccess) {\n      if (offersRequest.data.length > 0) {\n        setMyOffers(offersRequest.data);\n      }\n    }\n  }, [offersRequest.isLoading]);\n\n  useEffect(() => {\n    if (!unreserveOfferRequest.isLoading && unreserveOfferRequest.isSuccess) {\n      const updatedReservations = reservations.filter((reservation) => {\n        return reservation.offer._id !== unreserveOfferId;\n      });\n      setReservations(updatedReservations);\n    }\n  }, [unreserveOfferRequest.isLoading]);\n\n  useEffect(() => {\n    if (\n      !reservationPickedupRequest.isLoading &&\n      reservationPickedupRequest.isSuccess\n    ) {\n      const updatedReservations = reservations.filter((reservation) => {\n        return reservation._id !== reservationPickedupId;\n      });\n\n      setReservations(updatedReservations);\n    }\n  }, [reservationPickedupRequest.isLoading]);\n\n  useEffect(() => {\n    if (!offerPickedupRequest.isLoading && offerPickedupRequest.isSuccess) {\n      const updatedMyOffers = myOffers.filter((offer) => {\n        return offer._id !== offerPickedupId;\n      });\n\n      setMyOffers(updatedMyOffers);\n    }\n  }, [offerPickedupRequest.isLoading]);\n\n  useEffect(() => {\n    if (!checkIsbnRequest.isLoading && checkIsbnRequest.isSuccess) {\n      setBookForOffer(checkIsbnRequest.data);\n    }\n  }, [checkIsbnRequest.isLoading]);\n\n  useEffect(() => {\n    if (!createOfferRequest.isLoading && createOfferRequest.isSuccess) {\n      setBookWasCreated(true);\n    }\n  }, [createOfferRequest.isLoading]);\n\n  useEffect(() => {\n    if (!deleteOfferRequest.isLoading && deleteOfferRequest.isSuccess) {\n      const updatedMyOffers = myOffers.filter((offer) => {\n        return offer._id !== deletedOfferId;\n      });\n      setMyOffers(updatedMyOffers);\n\n      setDeletedOfferId(null);\n    }\n  }, [deleteOfferRequest.isLoading]);\n\n  function handleCancelOfferCreation() {\n    setShowCreationModal(false);\n    setBookWasCreated(false);\n  }\n\n  function handleSelectChange(item) {\n    setSelected(item);\n  }\n\n  function handleUnreserveOffer(id) {\n    setUnreserveOfferId(id);\n    unreserveOfferRequest.mutate(id);\n  }\n\n  function handleOfferWasPickedUp(id) {\n    setOfferPickedupId(id);\n    offerPickedupRequest.mutate(id);\n  }\n\n  function handleReservationWasPickedUp(id) {\n    setReservationPickedupId(id);\n    reservationPickedupRequest.mutate(id);\n  }\n\n  function contactUser(user) {\n    receiverDispatch({ type: \"setReceiver\", payload: user });\n    navigate(`/messages/sub/${user.sub}`);\n  }\n\n  function handleGoToHome() {\n    navigate(\"/home\");\n  }\n\n  function handleOpenCreateOffer() {\n    setShowCreationModal(true);\n    setBookWasCreated(false);\n  }\n\n  function handleIsbnChange(value) {\n    setIsbn(value);\n  }\n\n  function handleCheckIsbn() {\n    setIsbnError(\"\");\n\n    if (\n      isbn.length < 9 ||\n      (isbn.length > 10 && isbn.length < 13) ||\n      isbn.length > 13\n    ) {\n      setIsbnError(\"Die ISBN muss 9,10 oder 13 stellig sein.\");\n    } else {\n      checkIsbnRequest.mutate(isbn);\n    }\n  }\n\n  function backToIsbnCheckHandler() {\n    setBookForOffer(null);\n  }\n\n  function createOfferHandler() {\n    const options = {\n      book: bookForOffer._id,\n      zip: parseInt(metadata.zip),\n      city: metadata.city,\n    };\n\n    createOfferRequest.mutate(options);\n  }\n\n  function handleBackToOffers() {\n    const newCreatedOffer = createOfferRequest.data;\n    newCreatedOffer.book = bookForOffer;\n    const newOffers = [...myOffers, newCreatedOffer];\n\n    setMyOffers(newOffers);\n    setBookWasCreated(false);\n    setBookForOffer(null);\n    setShowCreationModal(false);\n  }\n\n  function handleDeleteOffer(id) {\n    setDeletedOfferId(id);\n    deleteOfferRequest.mutate(id);\n  }\n\n  return (\n    <div className=\"library-view\">\n      <Select\n        items={selectLabels}\n        preselected={selectLabels[0].label}\n        onChange={handleSelectChange}\n      />\n      {selected === \"reserviert\" && (\n        <div className=\"library-view__reserved\">\n          {reservations.length === 0 && (\n            <div className=\"library-view__message\">\n              <img src={calmPerson} alt=\"Calm person with a coffe cup\" />\n              <p>\n                Du hast keine Reservierungen derzeitig. Schau doch mal nach ob\n                du nicht vielleicht ein neues Lieblingsbuch endeckst !\n              </p>\n              <Button onClick={handleGoToHome}>Zu den Inseraten</Button>\n            </div>\n          )}\n\n          <div className=\"library-view__reserved__offers\">\n            {reservations.length > 0 &&\n              reservations.map((reservation) => (\n                <ReservationCard\n                  onContactProvider={contactUser}\n                  key={reservation._id}\n                  reservation={reservation}\n                  onUnreserve={handleUnreserveOffer}\n                  onPickedUp={handleReservationWasPickedUp}\n                />\n              ))}\n          </div>\n        </div>\n      )}\n      {selected === \"inseriert\" && (\n        <div className=\"library-view__offers\">\n          {myOffers.length > 0 && (\n            <div className=\"library-view__offers__myOffers\">\n              {myOffers.map((offer) => (\n                <OfferCard\n                  key={offer._id}\n                  offer={offer}\n                  onContactCollector={contactUser}\n                  onPickedUp={handleOfferWasPickedUp}\n                  onDelete={handleDeleteOffer}\n                />\n              ))}\n            </div>\n          )}\n\n          {myOffers.length === 0 && (\n            <div className=\"library-view__message\">\n              <img src={calmPerson} alt=\"Calm person with a coffe cup\" />\n              <p>\n                Du hast noch kein Inserat eingestellt. Erstelle eins um anderen\n                Nutzern die Mglichkeit zu geben Ihr neues Lieblignsbuch  zu\n                finden.\n              </p>\n            </div>\n          )}\n\n          <Button onClick={handleOpenCreateOffer}>Inserat erstellen</Button>\n        </div>\n      )}\n      {showCreationModal && (\n        <Modal>\n          <div className=\"library-view__create-offer-modal\">\n            {!bookForOffer && !bookWasCreated && (\n              <div className=\"flex flex-col gap-4\">\n                <h1 className=\"headline text-center\">Neues Inserat  </h1>\n                <p className=\"text-center\">\n                  Um ein neues Inserat anlegenzulegen gebe einfach die ISBN oder\n                  ISBN13 deines Buches ein. Wir werden anschlieend alle\n                  notwendigen Informationen zuammentragen und automatisch  fr\n                  dich ergnzen.\n                </p>\n                <Input\n                  value={isbn}\n                  onChange={handleIsbnChange}\n                  label=\"ISBN oder ISBN13\"\n                  type=\"text\"\n                  disabled={false}\n                  error={isbnError}\n                />\n\n                <Button\n                  size=\"xl\"\n                  loading={checkIsbnRequest.isLoading}\n                  onClick={handleCheckIsbn}\n                >\n                  berprfe ISBN\n                </Button>\n              </div>\n            )}\n\n            {bookForOffer && !bookWasCreated && (\n              <div className=\"flex flex-col gap-4\">\n                <h2 className=\"headline\">{bookForOffer.title}</h2>\n                <p className=\"offer__author\">\n                  VON {bookForOffer.authors.join(\" & \")}\n                </p>\n\n                <img\n                  src={bookForOffer.image}\n                  alt={bookForOffer.title}\n                  className=\"rounded\"\n                />\n\n                <p className=\"font-bold text-center\">\n                  Angeboten in {metadata.zip}, {metadata.city}\n                </p>\n\n                <Button size=\"xl\" onClick={createOfferHandler}>\n                  erstellen\n                </Button>\n\n                <Button variant=\"secondary\" onClick={backToIsbnCheckHandler}>\n                  zurck\n                </Button>\n              </div>\n            )}\n\n            {!bookWasCreated && (\n              <Button\n                variant=\"secondary\"\n                disabled={checkIsbnRequest.isLoading}\n                onClick={handleCancelOfferCreation}\n              >\n                abbrechen\n              </Button>\n            )}\n\n            {bookWasCreated && (\n              <div className=\"library-view__message\">\n                <img src={happyPerson} alt=\"Happy person with a coffe cup\" />\n                <p className=\"text-center\">\n                  Dein Buch  wurde erfolgreich inseriert und ist nun fr\n                  andere Nutzer sichtbar .\n                </p>\n                <Button onClick={handleBackToOffers}>\n                  zurck zu meinen Inseraten\n                </Button>\n              </div>\n            )}\n          </div>\n        </Modal>\n      )}\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/unhappy.eb31c42a.png\";","import React, { useState, useEffect } from \"react\";\nimport \"./Messages.css\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useApiToken } from \"../../contexts/apiToken.context\";\nimport { useQuery } from \"react-query\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Input } from \"../../components/Input/Input\";\nimport { User } from \"../../components/User/User\";\nimport { Button } from \"../../components/Button/Button\";\nimport { chats as chatApi } from \"../../services/api.servise\";\nimport unhappyPerson from \"../../assets/person/unhappy.png\";\nimport { useReceiver } from \"../../contexts/receiver.context\";\n\nexport const Messages = ({ ...props }) => {\n  const { user } = useAuth0();\n  const { apiTokenState } = useApiToken();\n  const [search, setSearch] = useState(\"\");\n  const [chats, setChats] = useState([]);\n  const navigate = useNavigate();\n  const { receiverDispatch } = useReceiver();\n\n  const chatsRequest = useQuery(\"chats\", async () => {\n    return chatApi.getMyChats(apiTokenState.value);\n  });\n\n  useEffect(() => {\n    if (\n      !chatsRequest.isLoading &&\n      chatsRequest.isSuccess &&\n      chatsRequest.data\n    ) {\n      setChats(chatsRequest.data);\n    }\n  }, [chatsRequest.isLoading]);\n\n  function handleSearchInput(value) {\n    setSearch(value);\n  }\n\n  function handleOpenChat(receiver) {\n    receiverDispatch({ type: \"setReceiver\", payload: receiver });\n    navigate(`/messages/sub/${receiver.sub}`);\n  }\n\n  function handleGoToOffers() {\n    navigate(\"/home\");\n  }\n\n  return (\n    <div className=\"messages-view\">\n      {chats.length > 0 && (\n        <Input\n          value={search}\n          onChange={handleSearchInput}\n          type=\"text\"\n          placeholder=\"Suchen\"\n        />\n      )}\n\n      {!chatsRequest.isLoading && chats.length === 0 && (\n        <div className=\"messages-view__no-chats\">\n          <img src={unhappyPerson} alt=\"Unhappy person\" />\n          <p>\n            Du hast leider noch niemanden kontaktiert. Schau doch mal in die\n            Inserate, ob du etwas findest was dich interessiert. Reserviere und\n            kontaktiere dann den Anbieter, um dein neus Lieblingsbuch  abholen\n            zu knnen.\n          </p>\n          <Button onClick={handleGoToOffers}>zu den inseraten</Button>\n        </div>\n      )}\n\n      {!chatsRequest.isLoading &&\n        chatsRequest.isSuccess &&\n        chatsRequest.data.length > 0 && (\n          <div className=\"messages-view__chats\">\n            {chats\n              .filter((chat) =>\n                //* Filter only the receiver in the chat not current user\n                chat.users[0].sub === user.sub\n                  ? chat.users[1].nickname\n                      .toLowerCase()\n                      .includes(search.toLowerCase())\n                  : chat.users[0].nickname\n                      .toLowerCase()\n                      .includes(search.toLowerCase())\n              )\n              .map((chat) => (\n                <div\n                  key={chat._id}\n                  className=\"messages-view__chat\"\n                  onClick={() =>\n                    handleOpenChat(\n                      chat.users[0].sub === user.sub\n                        ? chat.users[1]\n                        : chat.users[0]\n                    )\n                  }\n                >\n                  <User\n                    user={\n                      chat.users[0].sub === user.sub\n                        ? chat.users[1]\n                        : chat.users[0]\n                    }\n                  />\n                  {/* TODO add new message badge if its available on backend */}\n                </div>\n              ))}\n          </div>\n        )}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./CreateMessage.css\";\nimport { Input } from \"../Input/Input\";\nimport { Button } from \"../Button/Button\";\nimport { RiMailSendLine } from \"react-icons/ri\";\n\nexport const CreateMessage = ({ onCreate, sending, ...props }) => {\n  const [message, setMessage] = useState(\"\");\n  const [wasSend, setWasSend] = useState(false);\n\n  useEffect(() => {\n    if (!sending && !wasSend) setWasSend(true);\n\n    if (sending && wasSend) {\n      setMessage(\"\");\n      setWasSend(false);\n    }\n  }, [sending]);\n\n  function handleMessageChange(value) {\n    setMessage(value);\n  }\n\n  function handleCreate() {\n    onCreate(message);\n  }\n\n  return (\n    <div\n      className={`create-message ${\n        message !== \"\" ? \"create-message--grid\" : \"\"\n      }`}\n      {...props}\n    >\n      <Input\n        type=\"textarea\"\n        className=\"create-message__input\"\n        onChange={handleMessageChange}\n        value={message}\n        disabled={sending}\n      />\n\n      {message !== \"\" && (\n        <Button loading={sending} size=\"full\" onClick={handleCreate}>\n          <RiMailSendLine\n            className={`create-message__icon ${\n              sending ? \"create-message__icon--sending\" : \"\"\n            }`}\n          />\n        </Button>\n      )}\n    </div>\n  );\n};\n\nCreateMessage.propTypes = {\n  /**\n   * create handler with the message\n   */\n  onCreate: PropTypes.func,\n  /**\n   * message is sending, button and input are disabled\n   */\n  sending: PropTypes.bool,\n};\n\nCreateMessage.defualtProps = {\n  onCreate: undefined,\n  sending: false,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Message.css\";\nimport { Card } from \"../Card/Card\";\n\nexport const Message = ({ message, timestamp, creator, ...props }) => {\n  return (\n    <div\n      className={`message ${\n        creator ? \"message--justify-end\" : \"message--justify-start\"\n      }`}\n    >\n      <Card\n        className={`message__card ${creator ? \"message--primary\" : \"\"}`}\n        {...props}\n      >\n        <p className=\"message__content\">{message}</p>\n        <p className=\"message__timestamp\">{timestamp}</p>\n      </Card>\n    </div>\n  );\n};\n\nMessage.propTypes = {\n  /**\n   * the actual message\n   */\n  message: PropTypes.string,\n  /**\n   * timestamp of the message\n   */\n  timestamp: PropTypes.string,\n  /**\n   * the user is the creator of the message\n   */\n  creator: PropTypes.bool,\n};\n\nMessage.defaultProps = {\n  message: \"\",\n  created: \"\",\n  creator: false,\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport \"./Chat.css\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useParams } from \"react-router-dom\";\nimport { useApiToken } from \"../../contexts/apiToken.context\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"../../components/Button/Button\";\nimport { RiArrowLeftLine } from \"react-icons/ri\";\nimport { User } from \"../../components/User/User\";\nimport { CreateMessage } from \"../../components/CreateMessage/CreateMessage\";\nimport { Message } from \"../../components/Message/Message\";\nimport {\n  chats as chatApi,\n  messages as messagesApi,\n} from \"../../services/api.servise\";\nimport { useQuery, useMutation } from \"react-query\";\nimport { useReceiver } from \"../../contexts/receiver.context\";\n\nexport const Chat = ({ ...props }) => {\n  const { user } = useAuth0();\n  const { apiTokenState } = useApiToken();\n  const [token, setToken] = useState(null);\n  const { sub } = useParams();\n  const navigate = useNavigate();\n  const [chat, setChat] = useState(null);\n  const [createNewChat, setCreateNewChat] = useState(false);\n  const [checkForExistingChat, setCheckForExistingChat] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [chatId, setChatId] = useState(false);\n  const [messageIsSending, setMessageIsSending] = useState(false);\n  const messagesEndRef = useRef(null);\n  const { receiverState, receiverDispatch } = useReceiver();\n\n  const existingChatRequest = useQuery(\n    `chat-sub-${sub}`,\n    async () => {\n      return chatApi.getByReceiverUserSub(token, sub);\n    },\n    { enabled: checkForExistingChat }\n  );\n\n  const getChatMessagesRequest = useQuery(\n    `chat-messages-${chatId}`,\n    async () => {\n      return chatApi.getMessages(token, chatId);\n    },\n    { enabled: !!chatId }\n  );\n\n  const sendMessageRequest = useMutation((message) => {\n    return messagesApi.create(token, message);\n  });\n\n  const createChatRequest = useMutation(\n    (receiver) => {\n      return chatApi.create(token, receiver);\n    },\n    { enabled: !!token }\n  );\n\n  useEffect(() => {\n    if (apiTokenState.value) setToken(apiTokenState.value);\n  }, [apiTokenState.value]);\n\n  useEffect(() => {\n    if (sub) setCheckForExistingChat(true);\n  }, []);\n\n  useEffect(() => {\n    if (\n      !existingChatRequest.isFetching &&\n      !existingChatRequest.isLoading &&\n      existingChatRequest.isSuccess\n    ) {\n      if (existingChatRequest.data) {\n        setChat(existingChatRequest.data);\n        setChatId(existingChatRequest.data._id);\n      } else {\n        setCreateNewChat(true);\n      }\n    }\n  }, [existingChatRequest.isLoading]);\n\n  useEffect(() => {\n    if (\n      !getChatMessagesRequest.isFetching &&\n      !getChatMessagesRequest.isLoading &&\n      getChatMessagesRequest.isSuccess &&\n      getChatMessagesRequest.data\n    ) {\n      setMessages(getChatMessagesRequest.data.reverse());\n    }\n  }, [getChatMessagesRequest.isLoading, getChatMessagesRequest.isFetching]);\n\n  useEffect(() => {\n    if (\n      !sendMessageRequest.isLoading &&\n      sendMessageRequest.isSuccess &&\n      sendMessageRequest.data\n    ) {\n      const createdMessage = sendMessageRequest.data;\n\n      setMessages((existingMessages) => [...existingMessages, createdMessage]);\n\n      setMessageIsSending(false);\n    }\n  }, [sendMessageRequest.isLoading]);\n\n  useEffect(() => {\n    if (\n      !createChatRequest.isFetching &&\n      !createChatRequest.isLoading &&\n      createChatRequest.isSuccess\n    ) {\n      setChat(createChatRequest.data);\n      setChatId(createChatRequest.data._id);\n      receiverDispatch({ type: \"resetReceiver\" });\n      setCreateNewChat(false);\n    }\n  }, [createChatRequest.isLoading]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  useEffect(() => {\n    if (createNewChat) createChatRequest.mutate(receiverState);\n  }, [createNewChat]);\n\n  function scrollToBottom() {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }\n\n  function handleGoBack() {\n    navigate(-1);\n  }\n\n  function handleSendMessage(message) {\n    setMessageIsSending(true);\n    sendMessageRequest.mutate({ content: message, chat: chat._id });\n  }\n\n  return (\n    <div className=\"chat-view\">\n      {!createNewChat && chat && (\n        <>\n          <div className=\"chat-view__header\">\n            <Button variant=\"secondary\" size=\"xl\" onClick={handleGoBack}>\n              <RiArrowLeftLine />\n            </Button>\n            <User\n              user={\n                chat.users[0].sub === user.sub ? chat.users[1] : chat.users[0]\n              }\n            />\n          </div>\n\n          {messages && (\n            <div\n              className=\"chat-view__messages\"\n              key={`chat-${chat._id}-messages`}\n            >\n              {messages.map((message) => (\n                <Message\n                  key={message._id}\n                  message={message.content}\n                  timestamp={message.created_at}\n                  creator={message.creatorSub === user.sub}\n                />\n              ))}\n\n              <div ref={messagesEndRef} />\n            </div>\n          )}\n\n          <div className=\"chat-view__write-input\">\n            <CreateMessage\n              onCreate={handleSendMessage}\n              sending={messageIsSending}\n            />\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFlag(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 14,\n    height: 14,\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.5 0V12.0103C13.5 12.9058 12.4597 13.3714 11.8198 12.7622L7.39014 8.54548C6.99235 8.16682 6.37276 8.18272 5.99393 8.5813L2.216 12.5562C1.58979 13.2151 0.5 12.7603 0.5 11.8401V0H13.5Z\",\n    fill: \"#4AAF91\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFlag);\nexport default __webpack_public_path__ + \"static/media/Flag.6be50c7e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from \"react\";\nimport \"./Settings.css\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useApiToken } from \"../../contexts/apiToken.context\";\nimport { useMutation } from \"react-query\";\nimport { Button } from \"../../components/Button/Button\";\nimport { Input } from \"../../components/Input/Input\";\nimport { Modal } from \"../../components/Modal/Modal\";\nimport sadPerson from \"../../assets/person/sad.png\";\nimport { user as userApi } from \"../../services/api.servise\";\nimport { isValidEmail, deletePageCookies } from \"../../utils/utils\";\n\nexport const Settings = ({ ...props }) => {\n  const { logout, user } = useAuth0();\n  const { apiTokenState } = useApiToken();\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [passwordMailIsSent, setPasswordMailIsSent] = useState(false);\n  const [isSendingPasswordMail, setIsSendingPasswordMail] = useState(false);\n  const [editUser, setEditUser] = useState(false);\n  const [update, setUpdate] = useState({\n    name: user.name,\n    nickname: user.nickname,\n    email: user.email,\n    picture: user.picture,\n  });\n  const [name, setName] = useState(user.name);\n  const [nickname, setNickname] = useState(user.nickname);\n  const [email, setEmail] = useState(user.email);\n  const [emailError, setEmailError] = useState(\"\");\n  const [picture, setPicture] = useState(user.picture);\n\n  const sendPasswordMailRequest = useMutation(() => {\n    return userApi.sendPasswordChangeMail(apiTokenState.value);\n  });\n\n  const updateUserRequest = useMutation((user) => {\n    return userApi.setUser(apiTokenState.value, user);\n  });\n\n  const deleteUserRequest = useMutation(\n    () => {\n      return userApi.deleteAccount(apiTokenState.value);\n    },\n    { enabled: isDeleting }\n  );\n\n  useEffect(() => {\n    if (\n      !sendPasswordMailRequest.isLoading &&\n      !sendPasswordMailRequest.isFetching &&\n      sendPasswordMailRequest.isSuccess\n    ) {\n      setIsSendingPasswordMail(false);\n      setPasswordMailIsSent(true);\n    }\n  }, [sendPasswordMailRequest.isLoading]);\n\n  useEffect(() => {\n    if (\n      !deleteUserRequest.isLoading &&\n      !deleteUserRequest.isFetching &&\n      deleteUserRequest.isSuccess\n    ) {\n      deletePageCookies();\n      localStorage.clear();\n      sessionStorage.clear();\n      logout();\n    }\n  }, [sendPasswordMailRequest.isLoading, deleteUserRequest.isSuccess]);\n\n  useEffect(() => {\n    setUpdate({ name, nickname, email, picture });\n  }, [name, nickname, email, picture]);\n\n  function handleLogout() {\n    logout({ returnTo: window.location.origin });\n  }\n\n  function toggleDeleteModal() {\n    setShowDeleteModal((lastState) => !lastState);\n  }\n\n  function handleDeleteAccount() {\n    setIsDeleting(true);\n    deleteUserRequest.mutate();\n  }\n\n  function handlePassword() {\n    sendPasswordMailRequest.mutate();\n    setIsSendingPasswordMail(true);\n  }\n\n  function handleEditUser() {\n    setEditUser(true);\n  }\n\n  function handleSaveUserEdit() {\n    updateUserRequest.mutate(update);\n    setEditUser(false);\n  }\n\n  function handleEditCancel() {\n    setNickname(user.nickname);\n    setEmail(user.email);\n    setName(user.name);\n    setPicture(user.picture);\n    setEditUser(false);\n  }\n\n  function handleNameChange(value) {\n    setName(value);\n  }\n\n  function handlePictureChange(value) {\n    setPicture(value);\n  }\n\n  function handleNicknameChange(value) {\n    setNickname(value);\n  }\n\n  function handleEmailChange(value) {\n    setEmailError(isValidEmail(value) ? \"\" : \"Ungltige eMail.\");\n    setEmail(value);\n  }\n\n  return (\n    <div className=\"settings-view\">\n      <h1 className=\"headline text-center\">Einstellungen</h1>\n\n      <img\n        src={user.picture}\n        alt={user.name}\n        className=\"settings-view__user__image\"\n      />\n\n      <Input\n        label=\"Name\"\n        type=\"text\"\n        value={name}\n        disabled={!editUser}\n        onChange={handleNameChange}\n      />\n      <Input\n        label=\"Benutzername\"\n        type=\"text\"\n        value={nickname}\n        disabled={!editUser}\n        onChange={handleNicknameChange}\n      />\n      <Input\n        label=\"e-mail\"\n        type=\"mail\"\n        value={email}\n        disabled={!editUser}\n        onChange={handleEmailChange}\n        error={emailError}\n      />\n      <Input\n        label=\"Profilbild Link\"\n        type=\"text\"\n        value={picture}\n        disabled={!editUser}\n        onChange={handlePictureChange}\n      />\n\n      <Button size=\"lg\" onClick={handleLogout}>\n        ausloggen\n      </Button>\n\n      {editUser && (\n        <>\n          <p className=\"text-xs text-medium-900 text-center\">\n            Profilbilder werden erst nach einer erneuten Anmeldung angezeigt.\n          </p>\n          <Button\n            size=\"lg\"\n            variant=\"primary\"\n            onClick={handleSaveUserEdit}\n            loading={\n              updateUserRequest.isLoading || updateUserRequest.isFetching\n            }\n          >\n            speichern\n          </Button>\n          <Button\n            size=\"lg\"\n            variant=\"secondary\"\n            onClick={handleEditCancel}\n            disabled={\n              updateUserRequest.isLoading || updateUserRequest.isFetching\n            }\n          >\n            abbruch\n          </Button>\n        </>\n      )}\n\n      {!editUser && (\n        <Button size=\"lg\" variant=\"secondary\" onClick={handleEditUser}>\n          Profil editieren\n        </Button>\n      )}\n\n      <Button\n        size=\"lg\"\n        variant=\"secondary\"\n        onClick={handlePassword}\n        loading={isSendingPasswordMail}\n      >\n        password ndern\n      </Button>\n\n      {passwordMailIsSent && !isSendingPasswordMail && (\n        <p className=\"text-center\">\n          Du hast eine e-Mail erhalten, mit der du dein Passwort ndern kannst.\n        </p>\n      )}\n\n      <Button size=\"xs\" variant=\"text\" onClick={toggleDeleteModal}>\n        Account lschen\n      </Button>\n\n      {showDeleteModal && (\n        <Modal>\n          <div className=\"settings-view__delte-modal \">\n            <img src={sadPerson} alt=\"Sad Person\" />\n            <h1 className=\"headline\">Nuterkonto lschen</h1>\n            <p>\n              Oh nein , schade das du uns verlassen mchtest. Bist du dir\n              sicher das du dein Nuterkonto lschen mchtest?\n            </p>\n\n            <div className=\"py-4\">\n              <Button\n                loading={isDeleting}\n                size=\"sm\"\n                variant=\"text\"\n                onClick={handleDeleteAccount}\n              >\n                Ja Nutzerkonto lschen\n              </Button>\n            </div>\n\n            <Button disabled={isDeleting} size=\"xl\" onClick={toggleDeleteModal}>\n              abbrechen\n            </Button>\n          </div>\n        </Modal>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useLocation, Navigate } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nexport const RequireAuth = ({ children }) => {\n  const { isAuthenticated } = useAuth0();\n  const location = useLocation();\n\n  if (!isAuthenticated) {\n    // Redirect them to the /login page, but save the current location they were\n    // trying to go to when they were redirected. This allows us to send them\n    // along to that page after they login, which is a nicer user experience\n    // than dropping them off on the home page.\n    return <Navigate to=\"/login\" state={{ from: location }} />;\n  }\n\n  return children;\n};\n\nRequireAuth.propTypes = {\n  children: PropTypes.element,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Icon } from \"../Icon/Icon\";\nimport { ReactComponent as Flag } from \"../../assets/Flag.svg\";\nimport {\n  RiHome7Line,\n  RiBookMarkLine,\n  RiMailLine,\n  RiSettings4Line,\n} from \"react-icons/ri\";\nimport \"./NavSlot.css\";\n\nexport const NavSlot = ({ onClick, variant, selected, ...props }) => {\n  function getVariantIcon(variant) {\n    switch (variant) {\n      case \"home\":\n        return <RiHome7Line />;\n\n      case \"library\":\n        return <RiBookMarkLine />;\n\n      case \"messages\":\n        return <RiMailLine />;\n\n      case \"settings\":\n        return <RiSettings4Line />;\n\n      default:\n        return <RiHome7Line />;\n    }\n  }\n\n  function clickHandler() {\n    if (!selected) onClick(variant);\n  }\n\n  return (\n    <div\n      className={`navSlot ${props.className ? props.className : \"\"}`}\n      {...props}\n      onClick={clickHandler}\n    >\n      <Flag\n        className={`navSlot__flag ${\n          selected ? \"navSlot__flag--selected\" : \"navSlot__flag--not-selected\"\n        }`}\n      />\n      <Icon\n        className={`navSlot__icon ${selected ? \"navSlot__icon--selected\" : \"\"}`}\n      >\n        {getVariantIcon(variant)}\n      </Icon>\n    </div>\n  );\n};\n\nNavSlot.propTypes = {\n  /**\n   * the nav slot is selected and active\n   */\n  selected: PropTypes.bool,\n  /**\n   * variants of the navslot\n   */\n  variant: PropTypes.oneOf([\"home\", \"library\", \"messages\", \"settings\"]),\n  /**\n   * onClick click handler\n   */\n  onClick: PropTypes.func,\n};\n\nNavSlot.defaultsProps = {\n  variant: \"home\",\n  selected: false,\n  onClick: PropTypes.undefined,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Navigation.css\";\nimport { NavSlot } from \"../NavSlot/NavSlot\";\n\nexport const Navigation = ({ onSelect, select, ...props }) => {\n  return (\n    <div className=\"navigation\" {...props}>\n      <NavSlot\n        onClick={onSelect}\n        selected={select === \"home\" ? true : false}\n        variant=\"home\"\n      />\n      <NavSlot\n        onClick={onSelect}\n        selected={select === \"library\" ? true : false}\n        variant=\"library\"\n      />\n      <NavSlot\n        onClick={onSelect}\n        selected={select === \"messages\" ? true : false}\n        variant=\"messages\"\n      />\n      <NavSlot\n        onClick={onSelect}\n        selected={select === \"settings\" ? true : false}\n        variant=\"settings\"\n      />\n    </div>\n  );\n};\n\nNavigation.propTypes = {\n  /**\n   * which item should be selected\n   */\n  select: PropTypes.oneOf([\"home\", \"library\", \"messages\", \"settings\"]),\n  /**\n   * onSelect click handler\n   */\n  onSelect: PropTypes.func,\n};\n\nNavigation.defaultProps = {\n  select: \"home\",\n  onSelect: undefined,\n};\n","import { useEffect, useState } from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport \"./styles/App.css\";\nimport { Login } from \"./views/Login/Login\";\nimport { Home } from \"./views/Home/Home\";\nimport { Onboarding } from \"./views/Onboarding/Onboarding\";\nimport { Library } from \"./views/Library/Library\";\nimport { Messages } from \"./views/Messages/Messages\";\nimport { Chat } from \"./views/Chat/Chat\";\nimport { Settings } from \"./views/Settings/Settings\";\nimport { Routes, Route, useNavigate, useLocation } from \"react-router-dom\";\nimport { RequireAuth } from \"./components/RequireAuth/RequireAuth\";\nimport { Navigation } from \"./components/Navigation/Navigation\";\nimport { useMetadata } from \"./contexts/metadata.context\";\nimport { useApiToken } from \"./contexts/apiToken.context\";\nimport { useQuery } from \"react-query\";\nimport { user as userApi } from \"./services/api.servise\";\n\nfunction App() {\n  const { isAuthenticated, getAccessTokenSilently } = useAuth0();\n  const { metadataState, metadataDispatch } = useMetadata();\n  const { apiTokenState, apiTokenDispatch } = useApiToken();\n  const location = useLocation();\n  const [selectedNavItem, setSelectedNavItem] = useState(\"home\");\n  const [getMetadata, setGetMetadata] = useState(false);\n  const navigate = useNavigate();\n\n  const {\n    isLoading: metadataIsLoading,\n    isSuccess: metadataIsSuccess,\n    data: metadata,\n  } = useQuery(\n    \"metadata\",\n    async () => {\n      return await userApi.getMetadata(apiTokenState?.value);\n    },\n    {\n      enabled: getMetadata,\n    }\n  );\n\n  useEffect(() => {\n    if (!metadataIsLoading && metadataIsSuccess) {\n      metadataDispatch({ type: \"setMetadata\", payload: metadata });\n      setGetMetadata(false);\n\n      if (metadata && !metadata.isOnboarded) {\n        navigate(\"/onboarding\");\n      }\n    }\n  }, [metadataIsLoading, metadata]);\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      getAccessTokenSilently().then((token) => {\n        apiTokenDispatch({ type: \"setApiToken\", payload: token });\n        setGetMetadata(true);\n        console.log(\"token \", token);\n      });\n    }\n  }, [isAuthenticated]);\n\n  useEffect(() => {\n    if (location.pathname.includes(\"messages\")) setSelectedNavItem(\"messages\");\n    if (location.pathname.includes(\"home\")) setSelectedNavItem(\"home\");\n  }, [location.pathname]);\n\n  function handleNavigationSelect(selected) {\n    setSelectedNavItem(selected);\n    navigate(`/${selected}`);\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__content\">\n        <Routes>\n          <Route path=\"/login\" element={<Login />} />\n          <Route\n            path=\"/onboarding\"\n            element={\n              <RequireAuth>\n                <Onboarding />\n              </RequireAuth>\n            }\n          />\n          <Route\n            path=\"/home\"\n            element={\n              <RequireAuth>\n                <Home />\n              </RequireAuth>\n            }\n          />\n          <Route\n            path=\"/library/:init\"\n            element={\n              <RequireAuth>\n                <Library />\n              </RequireAuth>\n            }\n          />\n          <Route\n            path=\"/library\"\n            element={\n              <RequireAuth>\n                <Library />\n              </RequireAuth>\n            }\n          />\n          <Route\n            path=\"/messages/sub/:sub\"\n            element={\n              <RequireAuth>\n                <Chat />\n              </RequireAuth>\n            }\n          />\n          <Route\n            path=\"/messages\"\n            element={\n              <RequireAuth>\n                <Messages />\n              </RequireAuth>\n            }\n          />\n          <Route\n            path=\"/settings\"\n            element={\n              <RequireAuth>\n                <Settings />\n              </RequireAuth>\n            }\n          />\n          <Route path=\"*\" element={<Login />} />\n        </Routes>\n      </div>\n\n      {isAuthenticated && location.pathname !== \"/onboarding\" && (\n        <div className=\"App__navigation\">\n          <Navigation\n            onSelect={handleNavigationSelect}\n            select={selectedNavItem}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Auth0Provider } from \"@auth0/auth0-react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { MetadataProvider } from \"./contexts/metadata.context\";\nimport { ReceiverProvider } from \"./contexts/receiver.context\";\nimport { ApiTokenProvider } from \"./contexts/apiToken.context\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Auth0Provider\n      domain=\"storyswap.eu.auth0.com\"\n      clientId=\"K02ZmIC9PSnGHfX3uG165VenI5OBOOQI\"\n      redirectUri={window.location.origin}\n      audience=\"https://api.storyswap.app\"\n      scope=\"openid profile email\"\n    >\n      <ApiTokenProvider>\n        <QueryClientProvider client={queryClient}>\n          <MetadataProvider>\n            <ReceiverProvider>\n              <BrowserRouter>\n                <App />\n              </BrowserRouter>\n            </ReceiverProvider>\n          </MetadataProvider>\n        </QueryClientProvider>\n      </ApiTokenProvider>\n    </Auth0Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports.isValideIsbnOrIsbn13 = (isbnOrIsbn13) => {\n  if (!isbnOrIsbn13 || typeof isbnOrIsbn13 !== \"string\") return false;\n\n  if (isbnOrIsbn13.length < 9 || isbnOrIsbn13.length > 13) return false;\n\n  const onlyNumbersAndDashRegex = /^[0-9-]*$/;\n  if (!onlyNumbersAndDashRegex.test(isbnOrIsbn13)) return false;\n\n  return true;\n};\n\nmodule.exports.isValidZip = (zip) => {\n  if (!zip || typeof zip !== \"string\") return false;\n\n  const validZipRegex = /^\\d{5}$/;\n  if (!validZipRegex.test(zip)) return false;\n\n  return true;\n};\n\nmodule.exports.addDaysToToday = (days) => {\n  var futureDate = new Date();\n  futureDate.setHours(23, 59, 59, 0);\n  futureDate.setDate(futureDate.getDate() + days); // +1 to include last day until 23:59:29\n  return futureDate;\n};\n\nmodule.exports.isValidEmail = (email) => {\n  if (!email || typeof email !== \"string\") return false;\n\n  const validEmailRegex =\n    /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n\n  const isValid = validEmailRegex.test(email);\n\n  return isValid;\n};\n\nmodule.exports.deletePageCookies = () => {\n  document.cookie.replace(/(?<=^|;).+?(?=\\=|;|$)/g, (name) =>\n    window.location.hostname\n      .split(/\\.(?=[^\\.]+\\.)/)\n      .reduceRight(\n        (acc, val, i, arr) =>\n          i ? (arr[i] = \".\" + val + acc) : ((arr[i] = \"\"), arr),\n        \"\"\n      )\n      .map(\n        (domain) =>\n          (document.cookie = `${name}=;max-age=0;path=/;domain=${domain}`)\n      )\n  );\n};\n"],"sourceRoot":""}